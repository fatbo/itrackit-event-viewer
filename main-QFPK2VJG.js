import{$ as ee,$a as x,A as Ye,Aa as $r,Ab as to,B as Tr,Ba as Br,Bb as D,C as Ie,Ca as xi,Cb as no,D as gi,Da as B,Db as io,E as wr,Ea as Xe,Eb as tt,F as Ae,Fa as _e,Fb as ro,G as tn,Ga as Mt,Gb as nt,H as we,Ha as Gr,Hb as Ne,I as U,Ia as qr,Ib as oo,J as Or,Ja as cn,Jb as ao,K as vi,Ka as Wr,Kb as so,L as A,La as bi,Lb as fn,M as Je,Ma as Kr,Mb as gn,N as Dr,Na as Yr,Nb as it,O as j,Oa as dn,Ob as ce,P as k,Pa as G,Pb as lo,Q as b,Qa as v,Qb as co,R as Pr,Ra as _,Rb as uo,S as Ir,Sa as Jr,T as Re,Ta as et,U as fe,Ua as q,Ub as po,V as z,Va as W,Vb as Ee,W as $,Wa as L,Wb as Z,X as nn,Xa as p,Y as ge,Ya as u,Z as rn,Za as O,_ as Ar,_a as E,a as M,aa as on,ab as ne,b as H,ba as _i,bb as ie,ca as an,cb as Ei,da as Rr,db as F,e as _r,ea as N,eb as ye,f as yr,fa as Nr,fb as h,g as Cr,ga as Q,gb as Qr,h as Se,ha as He,hb as Zr,i as me,ia as bt,ib as un,j as he,ja as Lr,jb as pn,k as se,ka as Qe,kb as Xr,l as I,la as Vr,lb as re,m as xr,ma as yi,mb as Mi,n as hi,na as kr,nb as d,o as br,oa as sn,ob as g,pa as Ci,pb as C,q as J,qa as ln,qb as Ce,r as Er,ra as Fr,rb as mn,s as Te,sa as Ur,sb as hn,t as fi,ta as l,tb as St,u as Mr,ua as Et,ub as le,v as Zt,va as jr,vb as Si,w as Sr,wa as Hr,wb as Tt,x as je,xa as zr,xb as eo,y as Xt,ya as Ze,yb as oe,z as en,za as V,zb as ae}from"./chunk-4K74MC4U.js";var wt=class{_doc;constructor(t){this._doc=t}manager},vn=(()=>{class n extends wt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(k(ge))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Cn=new j(""),Di=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof vn));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof vn);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(k(Cn),k(on))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Ti="ng-app-id";function mo(n){for(let t of n)t.remove()}function ho(n,t){let e=t.createElement("style");return e.textContent=n,e}function Ha(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Ti}="${t}"],link[${Ti}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Ti),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Oi(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Pi=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,Ha(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,ho);i?.forEach(r=>this.addUsage(r,this.external,Oi))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(mo(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])mo(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,ho(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Oi(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(k(ge),k(yi),k(Ci,8),k(sn))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),wi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ii=/%COMP%/g;var go="%COMP%",za=`_nghost-${go}`,$a=`_ngcontent-${go}`,Ba=!0,Ga=new j("",{factory:()=>Ba});function qa(n){return $a.replace(Ii,n)}function Wa(n){return za.replace(Ii,n)}function vo(n,t){return t.map(e=>e.replace(Ii,n))}var Ai=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,i,r,o,a,s,c=null,m=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=c,this.tracingService=m,this.defaultRenderer=new Ot(e,a,s,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof yn?r.applyToHost(e):r instanceof Dt&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,m=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,y=this.tracingService;switch(i.encapsulation){case ln.Emulated:o=new yn(c,m,i,this.appId,f,a,s,y);break;case ln.ShadowDom:return new _n(c,e,i,a,s,this.nonce,y,m);case ln.ExperimentalIsolatedShadowDom:return new _n(c,e,i,a,s,this.nonce,y);default:o=new Dt(c,m,i,f,a,s,y);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(k(Di),k(Pi),k(yi),k(Ga),k(ge),k(on),k(Ci),k(Hr,8))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Ot=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(wi[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(fo(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(fo(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new U(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=wi[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=wi[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Et.DashCase|Et.Important)?t.style.setProperty(e,i,r&Et.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Et.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=Ne().getGlobalEventTarget(this.doc,t),!t))throw new U(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function fo(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var _n=class extends Ot{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,i,r,o,a,s,c){super(t,r,o,s),this.hostEl=e,this.sharedStylesHost=c,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=vo(i.id,m);for(let y of m){let T=document.createElement("style");a&&T.setAttribute("nonce",a),T.textContent=y,this.shadowRoot.appendChild(T)}let f=i.getExternalStyles?.();if(f)for(let y of f){let T=Oi(y,r);a&&T.setAttribute("nonce",a),this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Dt=class extends Ot{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,a,s,c){super(t,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let m=i.styles;this.styles=c?vo(c,m):m,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&jr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},yn=class extends Dt{contentAttr;hostAttr;constructor(t,e,i,r,o,a,s,c){let m=r+"-"+i.id;super(t,e,i,o,a,s,c,m),this.contentAttr=qa(m),this.hostAttr=Wa(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var xn=class n extends ao{supportsDOMEvents=!0;static makeCurrent(){oo(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Ka();return e==null?null:Ya(e)}resetBaseElement(){Pt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return lo(document.cookie,t)}},Pt=null;function Ka(){return Pt=Pt||document.head.querySelector("base"),Pt?Pt.getAttribute("href"):null}function Ya(n){return new URL(n,document.baseURI).pathname}var Ja=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),_o=["alt","control","meta","shift"],Qa={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Za={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},yo=(()=>{class n extends wt{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=n.parseEventName(i),s=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ne().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),_o.forEach(m=>{let f=i.indexOf(m);f>-1&&(i.splice(f,1),a+=m+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(e,i){let r=Qa[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),_o.forEach(a=>{if(a!==r){let s=Za[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(k(ge))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();async function Ri(n,t,e){let i=M({rootComponent:n},Xa(t,e));return ro(i)}function Xa(n,t){return{platformRef:t?.platformRef,appProviders:[...rs,...n?.providers??[]],platformProviders:is}}function es(){xn.makeCurrent()}function ts(){return new _i}function ns(){return Vr(document),document}var is=[{provide:sn,useValue:uo},{provide:kr,useValue:es,multi:!0},{provide:ge,useFactory:ns}];var rs=[{provide:Ir,useValue:"root"},{provide:_i,useFactory:ts},{provide:Cn,useClass:vn,multi:!0},{provide:Cn,useClass:yo,multi:!0},Ai,Pi,Di,{provide:zr,useExisting:Ai},{provide:co,useClass:Ja},[]];var Co=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(k(ge))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w="primary",zt=Symbol("RouteTitle"),Fi=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Be(n){return new Fi(n)}function Ni(n,t,e){for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(r[0]===":")e[r.substring(1)]=o;else if(r!==o.path)return!1}return!0}function Po(n,t,e){let i=e.path.split("/"),r=i.indexOf("**");if(r===-1){if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let c={},m=n.slice(0,i.length);return Ni(i,m,c)?{consumed:m,posParams:c}:null}if(r!==i.lastIndexOf("**"))return null;let o=i.slice(0,r),a=i.slice(r+1);if(o.length+a.length>n.length||e.pathMatch==="full"&&t.hasChildren()&&e.path!=="**")return null;let s={};return!Ni(o,n.slice(0,o.length),s)||!Ni(a,n.slice(n.length-a.length),s)?null:{consumed:n,posParams:s}}function wn(n){return new Promise((t,e)=>{n.pipe(Ie()).subscribe({next:i=>t(i),error:i=>e(i)})})}function as(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Me(n[e],t[e]))return!1;return!0}function Me(n,t){let e=n?Ui(n):void 0,i=t?Ui(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Io(n[r],t[r]))return!1;return!0}function Ui(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Io(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function ss(n){return n.length>0?n[n.length-1]:null}function We(n){return hi(n)?n:cn(n)?se(Promise.resolve(n)):I(n)}function Ao(n){return hi(n)?wn(n):Promise.resolve(n)}var ls={exact:No,subset:Lo},Ro={exact:cs,subset:ds,ignored:()=>!0};function Xi(n,t,e){let i=n instanceof ue?n:t.parseUrl(n);return D(()=>ji(t.lastSuccessfulNavigation()?.finalUrl??new ue,i,e))}function ji(n,t,e){return ls[e.paths](n.root,t.root,e.matrixParams)&&Ro[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function cs(n,t){return Me(n,t)}function No(n,t,e){if(!ze(n.segments,t.segments)||!Mn(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!No(n.children[i],t.children[i],e))return!1;return!0}function ds(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Io(n[e],t[e]))}function Lo(n,t,e){return Vo(n,t,t.segments,e)}function Vo(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!ze(r,e)||t.hasChildren()||!Mn(r,e,i))}else if(n.segments.length===e.length){if(!ze(n.segments,e)||!Mn(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!Lo(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!ze(n.segments,r)||!Mn(n.segments,r,i)||!n.children[w]?!1:Vo(n.children[w],t,o,i)}}function Mn(n,t,e){return t.every((i,r)=>Ro[e](n[r].parameters,i.parameters))}var ue=class{root;queryParams;fragment;_queryParamMap;constructor(t=new R([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Be(this.queryParams),this._queryParamMap}toString(){return ms.serialize(this)}},R=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sn(this)}},Le=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Be(this.parameters),this._parameterMap}toString(){return Fo(this)}};function us(n,t){return ze(n,t)&&n.every((e,i)=>Me(e.parameters,t[i].parameters))}function ze(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function ps(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===w&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==w&&(e=e.concat(t(r,i)))}),e}var $t=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:()=>new Ve,providedIn:"root"})}return n})(),Ve=class{parse(t){let e=new zi(t);return new ue(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${It(t.root,!0)}`,i=gs(t.queryParams),r=typeof t.fragment=="string"?`#${hs(t.fragment)}`:"";return`${e}${i}${r}`}},ms=new Ve;function Sn(n){return n.segments.map(t=>Fo(t)).join("/")}function It(n,t){if(!n.hasChildren())return Sn(n);if(t){let e=n.children[w]?It(n.children[w],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==w&&i.push(`${r}:${It(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=ps(n,(i,r)=>r===w?[It(n.children[w],!1)]:[`${r}:${It(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[w]!=null?`${Sn(n)}/${e[0]}`:`${Sn(n)}/(${e.join("//")})`}}function ko(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bn(n){return ko(n).replace(/%3B/gi,";")}function hs(n){return encodeURI(n)}function Hi(n){return ko(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(n){return decodeURIComponent(n)}function xo(n){return Tn(n.replace(/\+/g,"%20"))}function Fo(n){return`${Hi(n.path)}${fs(n.parameters)}`}function fs(n){return Object.entries(n).map(([t,e])=>`;${Hi(t)}=${Hi(e)}`).join("")}function gs(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${bn(e)}=${bn(r)}`).join("&"):`${bn(e)}=${bn(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var vs=/^[^\/()?;#]+/;function Li(n){let t=n.match(vs);return t?t[0]:""}var _s=/^[^\/()?;=#]+/;function ys(n){let t=n.match(_s);return t?t[0]:""}var Cs=/^[^=?&#]+/;function xs(n){let t=n.match(Cs);return t?t[0]:""}var bs=/^[^&#]+/;function Es(n){let t=n.match(bs);return t?t[0]:""}var zi=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(t=0){if(t>50)throw new U(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0,t));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1,t)),(e.length>0||Object.keys(i).length>0)&&(r[w]=new R(e,i)),r}parseSegment(){let t=Li(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(t),new Le(Tn(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=ys(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Li(this.remaining);r&&(i=r,this.capture(i))}t[Tn(e)]=Tn(i)}parseQueryParam(t){let e=xs(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=Es(this.remaining);a&&(i=a,this.capture(i))}let r=xo(e),o=xo(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t,e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Li(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new U(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=w);let s=this.parseChildren(e+1);i[a??w]=Object.keys(s).length===1&&s[w]?s[w]:new R([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new U(4011,!1)}};function Uo(n){return n.segments.length>0?new R([],{[w]:n}):n}function jo(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=jo(r);if(i===w&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new R(n.segments,t);return Ms(e)}function Ms(n){if(n.numberOfChildren===1&&n.children[w]){let t=n.children[w];return new R(n.segments.concat(t.segments),t.children)}return n}function ke(n){return n instanceof ue}function Ho(n,t,e=null,i=null,r=new Ve){let o=zo(n);return $o(o,t,e,i,r)}function zo(n){let t;function e(o){let a={};for(let c of o.children){let m=e(c);a[c.outlet]=m}let s=new R(o.url,a);return o===n&&(t=s),s}let i=e(n.root),r=Uo(i);return t??r}function $o(n,t,e,i,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return Vi(o,o,o,e,i,r);let a=Ss(t);if(a.toRoot())return Vi(o,o,new R([],{}),e,i,r);let s=Ts(a,o,n),c=s.processChildren?Rt(s.segmentGroup,s.index,a.commands):Go(s.segmentGroup,s.index,a.commands);return Vi(o,s.segmentGroup,c,e,i,r)}function On(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Vt(n){return typeof n=="object"&&n!=null&&n.outlets}function bo(n,t,e){n||="\u0275";let i=new ue;return i.queryParams={[n]:t},e.parse(e.serialize(i)).queryParams[n]}function Vi(n,t,e,i,r,o){let a={};for(let[m,f]of Object.entries(i??{}))a[m]=Array.isArray(f)?f.map(y=>bo(m,y,o)):bo(m,f,o);let s;n===t?s=e:s=Bo(n,t,e);let c=Uo(jo(s));return new ue(c,a,r)}function Bo(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=Bo(o,t,e)}),new R(n.segments,i)}var Dn=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&On(i[0]))throw new U(4003,!1);let r=i.find(Vt);if(r&&r!==ss(i))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ss(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Dn(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,m])=>{s[c]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Dn(e,t,i)}var ot=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Ts(n,t,e){if(n.isAbsolute)return new ot(t,!0,0);if(!e)return new ot(t,!1,NaN);if(e.parent===null)return new ot(e,!0,0);let i=On(n.commands[0])?0:1,r=e.segments.length-1+i;return ws(e,r,n.numberOfDoubleDots)}function ws(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new U(4005,!1);r=i.segments.length}return new ot(i,!1,r-o)}function Os(n){return Vt(n[0])?n[0].outlets:{[w]:n}}function Go(n,t,e){if(n??=new R([],{}),n.segments.length===0&&n.hasChildren())return Rt(n,t,e);let i=Ds(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new R(n.segments.slice(0,i.pathIndex),{});return o.children[w]=new R(n.segments.slice(i.pathIndex),n.children),Rt(o,0,r)}else return i.match&&r.length===0?new R(n.segments,{}):i.match&&!n.hasChildren()?$i(n,t,e):i.match?Rt(n,0,r):$i(n,t,e)}function Rt(n,t,e){if(e.length===0)return new R(n.segments,{});{let i=Os(e),r={};if(Object.keys(i).some(o=>o!==w)&&n.children[w]&&n.numberOfChildren===1&&n.children[w].segments.length===0){let o=Rt(n.children[w],t,e);return new R(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Go(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new R(n.segments,r)}}function Ds(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let a=n.segments[r],s=e[i];if(Vt(s))break;let c=`${s}`,m=i<e.length-1?e[i+1]:null;if(r>0&&c===void 0)break;if(c&&m&&typeof m=="object"&&m.outlets===void 0){if(!Mo(c,m,a))return o;i+=2}else{if(!Mo(c,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function $i(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Vt(o)){let c=Ps(o.outlets);return new R(i,c)}if(r===0&&On(e[0])){let c=n.segments[t];i.push(new Le(c.path,Eo(e[0]))),r++;continue}let a=Vt(o)?o.outlets[w]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&On(s)?(i.push(new Le(a,Eo(s))),r+=2):(i.push(new Le(a,{})),r++)}return new R(i,{})}function Ps(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=$i(new R([],{}),0,i))}),t}function Eo(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Mo(n,t,e){return n==e.path&&Me(t,e.parameters)}var Nt="imperative",Y=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Y||{}),pe=class{id;url;constructor(t,e){this.id=t,this.url=e}},Ge=class extends pe{type=Y.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},be=class extends pe{urlAfterRedirects;type=Y.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},X=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(X||{}),kt=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(kt||{}),ve=class extends pe{reason;code;type=Y.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function qo(n){return n instanceof ve&&(n.code===X.Redirect||n.code===X.SupersededByNewNavigation)}var De=class extends pe{reason;code;type=Y.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},qe=class extends pe{error;target;type=Y.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},st=class extends pe{urlAfterRedirects;state;type=Y.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pn=class extends pe{urlAfterRedirects;state;type=Y.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},In=class extends pe{urlAfterRedirects;state;shouldActivate;type=Y.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},An=class extends pe{urlAfterRedirects;state;type=Y.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rn=class extends pe{urlAfterRedirects;state;type=Y.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nn=class{route;type=Y.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ln=class{route;type=Y.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vn=class{snapshot;type=Y.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kn=class{snapshot;type=Y.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fn=class{snapshot;type=Y.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Un=class{snapshot;type=Y.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var lt=class{},ct=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Is(n){return!(n instanceof lt)&&!(n instanceof ct)}var jn=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new pt(this.rootInjector)}},pt=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new jn(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(k(Re))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hn=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Bi(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Bi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Gi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Gi(t,this._root).map(e=>e.value)}};function Bi(n,t){if(n===t.value)return t;for(let e of t.children){let i=Bi(n,e);if(i)return i}return null}function Gi(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Gi(n,e);if(i.length)return i.unshift(t),i}return[]}var de=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function rt(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ft=class extends Hn{snapshot;constructor(t,e){super(t),this.snapshot=e,er(this,t)}toString(){return this.snapshot.toString()}};function Wo(n,t){let e=As(n,t),i=new me([new Le("",{})]),r=new me({}),o=new me({}),a=new me({}),s=new me(""),c=new Pe(i,r,a,s,o,w,n,e.root);return c.snapshot=e.root,new Ft(new de(c,[]),e)}function As(n,t){let e={},i={},r={},a=new $e([],e,r,"",i,w,n,null,{},t);return new Ut("",new de(a,[]))}var Pe=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,a,s,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(J(m=>m[zt]))??I(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(t=>Be(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(t=>Be(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zn(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:M(M({},t.params),n.params),data:M(M({},t.data),n.data),resolve:M(M(M(M({},n.data),t.data),r?.data),n._resolvedData)}:i={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},r&&Yo(r)&&(i.resolve[zt]=r.title),i}var $e=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[zt]}constructor(t,e,i,r,o,a,s,c,m,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=m,this._environmentInjector=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Be(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Be(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ut=class extends Hn{url;constructor(t,e){super(e),this.url=t,er(this,e)}toString(){return Ko(this._root)}};function er(n,t){t.value._routerState=n,t.children.forEach(e=>er(n,e))}function Ko(n){let t=n.children.length>0?` { ${n.children.map(Ko).join(", ")} } `:"";return`${n.value}${t}`}function ki(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Me(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Me(t.params,e.params)||n.paramsSubject.next(e.params),as(t.url,e.url)||n.urlSubject.next(e.url),Me(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function qi(n,t){let e=Me(n.params,t.params)&&us(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||qi(n.parent,t.parent))}function Yo(n){return typeof n.title=="string"||n.title===null}var Jo=new j(""),Bt=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=w;activateEvents=new ee;deactivateEvents=new ee;attachEvents=new ee;detachEvents=new ee;routerOutletData=io();parentContexts=b(pt);location=b($r);changeDetector=b(tt);inputBinder=b(qn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Wi(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[He]})}return n})(),Wi=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Pe?this.route:t===pt?this.childContexts:t===Jo?this.outletData:this.parent.get(t,e)}},qn=new j("");var tr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=B({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&O(0,"router-outlet")},dependencies:[Bt],encapsulation:2})}return n})();function nr(n){let t=n.children&&n.children.map(nr),e=t?H(M({},n),{children:t}):M({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==w&&(e.component=tr),e}function Rs(n,t,e){let i=jt(n,t._root,e?e._root:void 0);return new Ft(i,t)}function jt(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=Ns(n,t,e);return new de(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>jt(n,s)),a}}let i=Ls(t.value),r=t.children.map(o=>jt(n,o));return new de(i,r)}}function Ns(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return jt(n,i,r);return jt(n,i)})}function Ls(n){return new Pe(new me(n.url),new me(n.params),new me(n.queryParams),new me(n.fragment),new me(n.data),n.outlet,n.component,n)}var dt=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Qo="ngNavigationCancelingError";function $n(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ke(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Zo(!1,X.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Zo(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Qo]=!0,e.cancellationCode=t,e}function Vs(n){return Xo(n)&&ke(n.url)}function Xo(n){return!!n&&n[Qo]}var Ki=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ki(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=rt(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=rt(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=rt(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=rt(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Un(o.value.snapshot))}),t.children.length&&this.forwardEvent(new kn(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(ki(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ki(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},Bn=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},at=class{component;route;constructor(t,e){this.component=t,this.route=e}};function ks(n,t,e){let i=n._root,r=t?t._root:null;return At(i,r,e,[i.value])}function Fs(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function mt(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!Dr(n)?n:t.get(n):i}function At(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=rt(t);return n.children.forEach(a=>{Us(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Lt(s,e.getContext(a),r)),r}function Us(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=js(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Bn(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?At(n,t,s?s.children:null,i,r):At(n,t,e,i,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new at(s.outlet.component,a))}else a&&Lt(t,s,r),r.canActivateChecks.push(new Bn(i)),o.component?At(n,null,s?s.children:null,i,r):At(n,null,e,i,r);return r}function js(n,t,e){if(typeof e=="function")return fe(t._environmentInjector,()=>e(n,t));switch(e){case"pathParamsChange":return!ze(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ze(n.url,t.url)||!Me(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qi(n,t)||!Me(n.queryParams,t.queryParams);default:return!qi(n,t)}}function Lt(n,t,e){let i=rt(n),r=n.value;Object.entries(i).forEach(([o,a])=>{r.component?t?Lt(a,t.children.getContext(o),e):Lt(a,null,e):Lt(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new at(t.outlet.component,r)):e.canDeactivateChecks.push(new at(null,r)):e.canDeactivateChecks.push(new at(null,r))}function Gt(n){return typeof n=="function"}function Hs(n){return typeof n=="boolean"}function zs(n){return n&&Gt(n.canLoad)}function $s(n){return n&&Gt(n.canActivate)}function Bs(n){return n&&Gt(n.canActivateChild)}function Gs(n){return n&&Gt(n.canDeactivate)}function qs(n){return n&&Gt(n.canMatch)}function ea(n){return n instanceof br||n?.name==="EmptyError"}var En=Symbol("INITIAL_VALUE");function ut(){return Ae(n=>Er(n.map(t=>t.pipe(Ye(1),wr(En)))).pipe(J(t=>{for(let e of t)if(e!==!0){if(e===En)return En;if(e===!1||Ws(e))return e}return!0}),je(t=>t!==En),Ye(1)))}function Ws(n){return ke(n)||n instanceof dt}function ta(n){return n.aborted?I(void 0).pipe(Ye(1)):new Cr(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function na(n){return tn(ta(n))}function Ks(n){return Te(t=>{let{targetSnapshot:e,currentSnapshot:i,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return o.length===0&&r.length===0?I(H(M({},t),{guardsResult:!0})):Ys(o,e,i).pipe(Te(a=>a&&Hs(a)?Js(e,r,n):I(a)),J(a=>H(M({},t),{guardsResult:a})))})}function Ys(n,t,e){return se(n).pipe(Te(i=>tl(i.component,i.route,e,t)),Ie(i=>i!==!0,!0))}function Js(n,t,e){return se(t).pipe(en(i=>Mr(Zs(i.route.parent,e),Qs(i.route,e),el(n,i.path),Xs(n,i.route))),Ie(i=>i!==!0,!0))}function Qs(n,t){return n!==null&&t&&t(new Fn(n)),I(!0)}function Zs(n,t){return n!==null&&t&&t(new Vn(n)),I(!0)}function Xs(n,t){let e=t.routeConfig?t.routeConfig.canActivate:null;if(!e||e.length===0)return I(!0);let i=e.map(r=>Zt(()=>{let o=t._environmentInjector,a=mt(r,o),s=$s(a)?a.canActivate(t,n):fe(o,()=>a(t,n));return We(s).pipe(Ie())}));return I(i).pipe(ut())}function el(n,t){let e=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>Fs(o)).filter(o=>o!==null).map(o=>Zt(()=>{let a=o.guards.map(s=>{let c=o.node._environmentInjector,m=mt(s,c),f=Bs(m)?m.canActivateChild(e,n):fe(c,()=>m(e,n));return We(f).pipe(Ie())});return I(a).pipe(ut())}));return I(r).pipe(ut())}function tl(n,t,e,i){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return I(!0);let o=r.map(a=>{let s=t._environmentInjector,c=mt(a,s),m=Gs(c)?c.canDeactivate(n,t,e,i):fe(s,()=>c(n,t,e,i));return We(m).pipe(Ie())});return I(o).pipe(ut())}function nl(n,t,e,i,r){let o=t.canLoad;if(o===void 0||o.length===0)return I(!0);let a=o.map(s=>{let c=mt(s,n),m=zs(c)?c.canLoad(t,e):fe(n,()=>c(t,e)),f=We(m);return r?f.pipe(na(r)):f});return I(a).pipe(ut(),ia(i))}function ia(n){return yr(we(t=>{if(typeof t!="boolean")throw $n(n,t)}),J(t=>t===!0))}function il(n,t,e,i,r){let o=t.canMatch;if(!o||o.length===0)return I(!0);let a=o.map(s=>{let c=mt(s,n),m=qs(c)?c.canMatch(t,e):fe(n,()=>c(t,e));return We(m).pipe(na(r))});return I(a).pipe(ut(),ia(i))}var Oe=class n extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,n.prototype)}},Ht=class n extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,n.prototype)}};function rl(n){throw new U(4e3,!1)}function ol(n){throw Zo(!1,X.GuardRejected)}var Yi=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[w])throw rl(`${t.redirectTo}`);r=r.children[w]}}async applyRedirectCommands(t,e,i,r,o){let a=await al(e,r,o);if(a instanceof ue)throw new Ht(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,i);if(a[0]==="/")throw new Ht(s);return s}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new ue(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,i,r)}),new R(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function al(n,t,e){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:r,fragment:o,routeConfig:a,url:s,outlet:c,params:m,data:f,title:y,paramMap:T,queryParamMap:S}=t;return wn(We(fe(e,()=>i({params:m,data:f,queryParams:r,fragment:o,routeConfig:a,url:s,outlet:c,title:y,paramMap:T,queryParamMap:S}))))}function sl(n,t){return n.providers&&!n._injector&&(n._injector=xi(n.providers,t,`Route: ${n.path}`)),n._injector??t}function xe(n){return n.outlet||w}function ll(n,t){let e=n.filter(i=>xe(i)===t);return e.push(...n.filter(i=>xe(i)!==t)),e}var Ji={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cl(n,t,e,i,r,o){let a=ra(n,t,e);return a.matched?(i=sl(t,i),il(i,t,e,r,o).pipe(J(s=>s===!0?a:M({},Ji)))):I(a)}function ra(n,t,e){if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?M({},Ji):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Po)(e,n,t);if(!r)return M({},Ji);let o={};Object.entries(r.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function So(n,t,e,i){return e.length>0&&pl(n,e,i)?{segmentGroup:new R(t,ul(i,new R(e,n.children))),slicedSegments:[]}:e.length===0&&ml(n,e,i)?{segmentGroup:new R(n.segments,dl(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new R(n.segments,n.children),slicedSegments:e}}function dl(n,t,e,i){let r={};for(let o of e)if(Wn(n,t,o)&&!i[xe(o)]){let a=new R([],{});r[xe(o)]=a}return M(M({},i),r)}function ul(n,t){let e={};e[w]=t;for(let i of n)if(i.path===""&&xe(i)!==w){let r=new R([],{});e[xe(i)]=r}return e}function pl(n,t,e){return e.some(i=>Wn(n,t,i)&&xe(i)!==w)}function ml(n,t,e){return e.some(i=>Wn(n,t,i))}function Wn(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function hl(n,t,e){return t.length===0&&!n.children[e]}var Qi=class{};async function fl(n,t,e,i,r,o,a="emptyOnly",s){return new Zi(n,t,e,i,r,a,o,s).recognize()}var gl=31,Zi=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,a,s,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=c,this.applyRedirects=new Yi(this.urlSerializer,this.urlTree)}noMatchError(t){return new U(4002,`'${t.segmentGroup}'`)}async recognize(){let t=So(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=await this.match(t),r=new de(i,e),o=new Ut("",r),a=Ho(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(t){let e=new $e([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),w,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,w,e),rootSnapshot:e}}catch(i){if(i instanceof Ht)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Oe?this.noMatchError(i):i}}async processSegmentGroup(t,e,i,r,o){if(i.segments.length===0&&i.hasChildren())return this.processChildren(t,e,i,o);let a=await this.processSegment(t,e,i,i.segments,r,!0,o);return a instanceof de?[a]:[]}async processChildren(t,e,i,r){let o=[];for(let c of Object.keys(i.children))c==="primary"?o.unshift(c):o.push(c);let a=[];for(let c of o){let m=i.children[c],f=ll(e,c),y=await this.processSegmentGroup(t,f,m,c,r);a.push(...y)}let s=oa(a);return vl(s),s}async processSegment(t,e,i,r,o,a,s){for(let c of e)try{return await this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,o,a,s)}catch(m){if(m instanceof Oe||ea(m))continue;throw m}if(hl(i,r,o))return new Qi;throw new Oe(i)}async processSegmentAgainstRoute(t,e,i,r,o,a,s,c){if(xe(i)!==a&&(a===w||!Wn(r,o,i)))throw new Oe(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,i,o,a,c);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,a,c);throw new Oe(r)}async expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a,s){let{matched:c,parameters:m,consumedSegments:f,positionalParamSegments:y,remainingSegments:T}=ra(e,r,o);if(!c)throw new Oe(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gl&&(this.allowRedirects=!1));let S=new $e(o,m,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,To(r),xe(r),r.component??r._loadedComponent??null,r,wo(r),t),te=zn(S,s,this.paramsInheritanceStrategy);if(S.params=Object.freeze(te.params),S.data=Object.freeze(te.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let P=await this.applyRedirects.applyRedirectCommands(f,r.redirectTo,y,S,t),Ue=await this.applyRedirects.lineralizeSegments(r,P);return this.processSegment(t,i,e,Ue.concat(T),a,!1,s)}async matchSegmentAgainstRoute(t,e,i,r,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await wn(cl(e,i,r,t,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!s?.matched)throw new Oe(e);t=i._injector??t;let{routes:c}=await this.getChildConfig(t,i,r),m=i._loadedInjector??t,{parameters:f,consumedSegments:y,remainingSegments:T}=s,S=new $e(y,f,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,To(i),xe(i),i.component??i._loadedComponent??null,i,wo(i),t),te=zn(S,a,this.paramsInheritanceStrategy);S.params=Object.freeze(te.params),S.data=Object.freeze(te.data);let{segmentGroup:P,slicedSegments:Ue}=So(e,y,T,c);if(Ue.length===0&&P.hasChildren()){let ja=await this.processChildren(m,c,P,S);return new de(S,ja)}if(c.length===0&&Ue.length===0)return new de(S,[]);let mi=xe(i)===o,xt=await this.processSegment(m,c,P,Ue,mi?w:o,!0,S);return new de(S,xt instanceof de?[xt]:[])}async getChildConfig(t,e,i){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0){let o=e._loadedNgModuleFactory;return o&&!e._loadedInjector&&(e._loadedInjector=o.create(t).injector),{routes:e._loadedRoutes,injector:e._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await wn(nl(t,e,i,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,e._loadedNgModuleFactory=o.factory,o}throw ol(e)}return{routes:[],injector:t}}};function vl(n){n.sort((t,e)=>t.value.outlet===w?-1:e.value.outlet===w?1:t.value.outlet.localeCompare(e.value.outlet))}function _l(n){let t=n.value.routeConfig;return t&&t.path===""}function oa(n){let t=[],e=new Set;for(let i of n){if(!_l(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=oa(i.children);t.push(new de(i.value,r))}return t.filter(i=>!e.has(i))}function To(n){return n.data||{}}function wo(n){return n.resolve||{}}function yl(n,t,e,i,r,o,a){return Te(async s=>{let{state:c,tree:m}=await fl(n,t,e,i,s.extractedUrl,r,o,a);return H(M({},s),{targetSnapshot:c,urlAfterRedirects:m})})}function Cl(n){return Te(t=>{let{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return I(t);let r=new Set(i.map(s=>s.route)),o=new Set;for(let s of r)if(!o.has(s))for(let c of aa(s))o.add(c);let a=0;return se(o).pipe(en(s=>r.has(s)?xl(s,e,n):(s.data=zn(s,s.parent,n).resolve,I(void 0))),we(()=>a++),gi(1),Te(s=>a===o.size?I(t):he))})}function aa(n){let t=n.children.map(e=>aa(e)).flat();return[n,...t]}function xl(n,t,e){let i=n.routeConfig,r=n._resolve;return i?.title!==void 0&&!Yo(i)&&(r[zt]=i.title),Zt(()=>(n.data=zn(n,n.parent,e).resolve,bl(r,n,t).pipe(J(o=>(n._resolvedData=o,n.data=M(M({},n.data),o),null)))))}function bl(n,t,e){let i=Ui(n);if(i.length===0)return I({});let r={};return se(i).pipe(Te(o=>El(n[o],t,e).pipe(Ie(),we(a=>{if(a instanceof dt)throw $n(new Ve,a);r[o]=a}))),gi(1),J(()=>r),Xt(o=>ea(o)?he:xr(o)))}function El(n,t,e){let i=t._environmentInjector,r=mt(n,i),o=r.resolve?r.resolve(t,e):fe(i,()=>r(t,e));return We(o)}function Oo(n){return Ae(t=>{let e=n(t);return e?se(e).pipe(J(()=>t)):I(t)})}var ir=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===w);return i}getResolvedTitleForRoute(e){return e.data[zt]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:()=>b(sa),providedIn:"root"})}return n})(),sa=(()=>{class n extends ir{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(k(Co))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ht=new j("",{factory:()=>({})}),qt=new j(""),la=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(to);async loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await Ao(fe(e,()=>i.loadComponent())),a=await ua(da(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a,a}finally{this.componentLoaders.delete(i)}})();return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await ca(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,i._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function ca(n,t,e,i){let r=await Ao(fe(e,()=>n.loadChildren())),o=await ua(da(r)),a;o instanceof Br||Array.isArray(o)?a=o:a=await t.compileModuleAsync(o),i&&i(n);let s,c,m=!1,f;return Array.isArray(a)?(c=a,m=!0):(s=a.create(e).injector,f=a,c=s.get(qt,[],{optional:!0,self:!0}).flat()),{routes:c.map(nr),injector:s,factory:f}}function Ml(n){return n&&typeof n=="object"&&"default"in n}function da(n){return Ml(n)?n.default:n}async function ua(n){return n}var Kn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:()=>b(Sl),providedIn:"root"})}return n})(),Sl=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pa=new j("");var Tl=()=>{},ma=new j(""),ha=(()=>{class n{currentNavigation=N(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=N(null);events=new Se;transitionAbortWithErrorSubject=new Se;configLoader=b(la);environmentInjector=b(Re);destroyRef=b(rn);urlSerializer=b($t);rootContexts=b(pt);location=b(fn);inputBindingEnabled=b(qn,{optional:!0})!==null;titleStrategy=b(ir);options=b(ht,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(Kn);createViewTransition=b(pa,{optional:!0});navigationErrorHandler=b(ma,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>I(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Nn(r)),i=r=>this.events.next(new Ln(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Q(()=>{this.transitions?.next(H(M({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new me(null),this.transitions.pipe(je(i=>i!==null),Ae(i=>{let r=!1,o=new AbortController,a=()=>!r&&this.currentTransition?.id===i.id;return I(i).pipe(Ae(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",X.SupersededByNewNavigation),he;this.currentTransition=i;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:c?H(M({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!m&&f!=="reload")return this.events.next(new De(s.id,this.urlSerializer.serialize(s.rawUrl),"",kt.IgnoredSameUrlNavigation)),s.resolve(!1),he;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return I(s).pipe(Ae(y=>(this.events.next(new Ge(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),y.id!==this.navigationId?he:Promise.resolve(y))),yl(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),we(y=>{i.targetSnapshot=y.targetSnapshot,i.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation.update(S=>(S.finalUrl=y.urlAfterRedirects,S));let T=new st(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(T)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:y,extractedUrl:T,source:S,restoredState:te,extras:P}=s,Ue=new Ge(y,this.urlSerializer.serialize(T),S,te);this.events.next(Ue);let mi=Wo(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=i=H(M({},s),{targetSnapshot:mi,urlAfterRedirects:T,extras:H(M({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(xt=>(xt.finalUrl=T,xt)),I(i)}else return this.events.next(new De(s.id,this.urlSerializer.serialize(s.extractedUrl),"",kt.IgnoredByUrlHandlingStrategy)),s.resolve(!1),he}),J(s=>{let c=new Pn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);return this.events.next(c),this.currentTransition=i=H(M({},s),{guards:ks(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i}),Ks(s=>this.events.next(s)),Ae(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw $n(this.urlSerializer,s.guardsResult);let c=new In(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);if(this.events.next(c),!a())return he;if(!s.guardsResult)return this.cancelNavigationTransition(s,"",X.GuardRejected),he;if(s.guards.canActivateChecks.length===0)return I(s);let m=new An(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);if(this.events.next(m),!a())return he;let f=!1;return I(s).pipe(Cl(this.paramsInheritanceStrategy),we({next:()=>{f=!0;let y=new Rn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(y)},complete:()=>{f||this.cancelNavigationTransition(s,"",X.NoDataFromResolver)}}))}),Oo(s=>{let c=f=>{let y=[];if(f.routeConfig?._loadedComponent)f.component=f.routeConfig?._loadedComponent;else if(f.routeConfig?.loadComponent){let T=f._environmentInjector;y.push(this.configLoader.loadComponent(T,f.routeConfig).then(S=>{f.component=S}))}for(let T of f.children)y.push(...c(T));return y},m=c(s.targetSnapshot.root);return m.length===0?I(s):se(Promise.all(m).then(()=>s))}),Oo(()=>this.afterPreactivation()),Ae(()=>{let{currentSnapshot:s,targetSnapshot:c}=i,m=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return m?se(m).pipe(J(()=>i)):I(i)}),Ye(1),J(s=>{let c=Rs(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);this.currentTransition=i=s=H(M({},s),{targetRouterState:c}),this.currentNavigation.update(m=>(m.targetRouterState=c,m)),this.events.next(new lt),a()&&(new Ki(e.routeReuseStrategy,i.targetRouterState,i.currentRouterState,m=>this.events.next(m),this.inputBindingEnabled).activate(this.rootContexts),a()&&(r=!0,this.currentNavigation.update(m=>(m.abort=Tl,m)),this.lastSuccessfulNavigation.set(Q(this.currentNavigation)),this.events.next(new be(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)))}),tn(ta(o.signal).pipe(je(()=>!r&&!i.targetRouterState),we(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",X.Aborted)}))),we({complete:()=>{r=!0}}),tn(this.transitionAbortWithErrorSubject.pipe(we(s=>{throw s}))),Tr(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",X.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xt(s=>{if(r=!0,this.destroyed)return i.resolve(!1),he;if(Xo(s))this.events.next(new ve(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),Vs(s)?this.events.next(new ct(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let c=new qe(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let m=fe(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(m instanceof dt){let{message:f,cancellationCode:y}=$n(this.urlSerializer,m);this.events.next(new ve(i.id,this.urlSerializer.serialize(i.extractedUrl),f,y)),this.events.next(new ct(m.redirectTo,m.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(m){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(m)}}return he}))}))}cancelNavigationTransition(e,i,r){let o=new ve(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Q(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wl(n){return n!==Nt}var fa=new j("");var ga=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:()=>b(Ol),providedIn:"root"})}return n})(),Gn=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}shouldDestroyInjector(t){return!0}},Ol=(()=>{class n extends Gn{static \u0275fac=(()=>{let e;return function(r){return(e||(e=bt(n)))(r||n)}})();static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rr=(()=>{class n{urlSerializer=b($t);options=b(ht,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(fn);urlHandlingStrategy=b(Kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ue;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof ue?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=Wo(null,b(Re));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:()=>b(Dl),providedIn:"root"})}return n})(),Dl=(()=>{class n extends rr{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Ge?this.updateStateMemento():e instanceof De?this.commitTransition(i):e instanceof st?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof lt?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof ve&&!qo(e)?this.restoreHistory(i):e instanceof qe?this.restoreHistory(i,!0):e instanceof be&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,c=M(M({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",c)}else{let s=M(M({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=bt(n)))(r||n)}})();static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function or(n,t){n.events.pipe(je(e=>e instanceof be||e instanceof ve||e instanceof qe||e instanceof De),J(e=>e instanceof be||e instanceof De?0:(e instanceof ve?e.code===X.Redirect||e.code===X.SupersededByNewNavigation:!1)?2:1),je(e=>e!==2),Ye(1)).subscribe(()=>{t()})}var ar={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(qr);stateManager=b(rr);options=b(ht,{optional:!0})||{};pendingTasks=b(Ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(ha);urlSerializer=b($t);location=b(fn);urlHandlingStrategy=b(Kn);injector=b(Re);_events=new Se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(ga);injectorCleanup=b(fa,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(qt,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(qn,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new _r;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Q(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ve&&i.code!==X.Redirect&&i.code!==X.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof be)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(i instanceof ct){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=M({scroll:r.extras.scroll,browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wl(r.source)},a);this.scheduleNavigation(s,Nt,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Is(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let c=M({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o).catch(c=>{this.disposed||this.injector.get(an)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Q(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=i,m=c?this.currentUrlTree.fragment:a,f=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":f=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let y;try{let T=r?r.snapshot:this.routerState.snapshot.root;y=zo(T)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),y=this.currentUrlTree.root}return $o(y,e,f,m??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let r=ke(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Nt,null,i)}navigate(e,i={skipLocationChange:!1}){return Pl(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Or(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=M({},ar):i===!1?r=M({},sr):r=i,ke(e))return ji(this.currentUrlTree,e,r);let o=this.parseUrl(e);return ji(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,m;a?(s=a.resolve,c=a.reject,m=a.promise):m=new Promise((y,T)=>{s=y,c=T});let f=this.pendingTasks.add();return or(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:c,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(Promise.reject.bind(Promise))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pl(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new U(4008,!1)}var gt=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=N(null);get href(){return Q(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Se;applicationErrorHandler=b(an);options=b(ht,{optional:!0});constructor(e,i,r,o,a,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(b(new no("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof be&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ke(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(m=>{this.applicationErrorHandler(m)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ke(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(V(ft),V(Pe),Lr("tabindex"),V(Ze),V(Qe),V(so))};static \u0275dir=_e({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&F("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&G("href",r.reactiveHref(),Fr)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",nt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",nt],replaceUrl:[2,"replaceUrl","replaceUrl",nt],routerLink:"routerLink"},features:[He]})}return n})(),cr=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ee;link=b(gt,{optional:!0});constructor(e,i,r,o){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof be&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(fi()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=se(e).pipe(fi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=Al(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact??!1?M({},ar):M({},sr);return r=>{let o=r.urlTree;return o?Q(Xi(o,e,i)):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(V(ft),V(Qe),V(Ze),V(tt))};static \u0275dir=_e({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Qr(o,gt,5),i&2){let a;un(a=pn())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[He]})}return n})();function Al(n){return!!n.paths}var Rl=new j("");function dr(n,...t){return Pr([{provide:qt,multi:!0,useValue:n},[],{provide:Pe,useFactory:Nl},{provide:Wr,multi:!0,useFactory:Ll},t.map(e=>e.\u0275providers)])}function Nl(){return b(ft).routerState.root}function Ll(){let n=b(nn);return t=>{let e=n.get(bi);if(t!==e.components[0])return;let i=n.get(ft),r=n.get(Vl);n.get(kl)===1&&i.initialNavigation(),n.get(Fl,null,{optional:!0})?.setUpPreloading(),n.get(Rl,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Vl=new j("",{factory:()=>new Se}),kl=new j("",{factory:()=>1});var Fl=new j("");var Ul=n=>({"summary-item-reefer-alert":n}),jl=n=>({"reefer-temp-alert":n}),Hl=(n,t,e)=>({percent:n,completed:t,total:e});function zl(n,t){if(n&1&&(p(0,"span",4),d(1),u()),n&2){let e=h(2);L("ngClass","pill-status-"+e.shipmentStatus().tone)("title",e.shipmentStatus().description),l(),C(" ",e.shipmentStatus().label," ")}}function $l(n,t){if(n&1&&(p(0,"span",5),O(1,"span",17),d(2),u()),n&2){let e=h(2);L("title",le(e.i18n.t("summary.indicator.reeferTitle"))),l(2),C(" ",e.i18n.t("summary.indicator.reeferLabel")," ")}}function Bl(n,t){if(n&1&&(p(0,"span",6),O(1,"span",18),d(2," DG "),u()),n&2){let e=h(2);L("title",le(e.i18n.t("summary.indicator.dangerousGoods")))}}function Gl(n,t){if(n&1&&(p(0,"span",7),O(1,"span",19),d(2," DMG "),u()),n&2){let e=h(2);L("title",le(e.i18n.t("summary.indicator.damage")))}}function ql(n,t){if(n&1&&(p(0,"div",9)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u(),p(5,"span",20),d(6),u()()),n&2){let e=h(2);L("ngClass","summary-item-status-"+e.shipmentStatus().tone),l(2),g(e.i18n.t("summary.label.shipmentStatus")),l(2),g(e.shipmentStatus().label),l(2),g(e.shipmentStatus().description)}}function Wl(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.shipmentId")),l(2),g((e=i.primaryEvent())==null?null:e.shipmentId)}}function Kl(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.blNumber")),l(2),g((e=i.primaryEvent())==null?null:e.blNo)}}function Yl(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.bookingNumber")),l(2),g((e=i.primaryEvent())==null?null:e.bookingNumber)}}function Jl(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.containerNumber")),l(2),g((e=i.primaryEvent())==null?null:e.containerNumber)}}function Ql(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.containerSizeType")),l(2),Ce("",((e=i.primaryEvent())==null?null:e.containerSize)||""," ",((e=i.primaryEvent())==null?null:e.containerType)||"")}}function Zl(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.containerIsoCode")),l(2),g((e=i.primaryEvent())==null?null:e.containerISOCode)}}function Xl(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),p(5,"span",21),d(6),u()()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.shipmentType")),l(2),C("",i.shipmentTypeLabel()," "),l(2),C("(",(e=i.primaryEvent())==null?null:e.shipmentType,")")}}function ec(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.shippingLine")),l(2),g((e=i.primaryEvent())==null?null:e.carrier)}}function tc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.originPol")),l(2),g((e=i.primaryEvent())==null?null:e.origin)}}function nc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.destinationPod")),l(2),g((e=i.primaryEvent())==null?null:e.destination)}}function ic(n,t){if(n&1&&(p(0,"span",22),O(1,"span",23),d(2),u()),n&2){let e=t.$implicit;l(2),C(" ",e," ")}}function rc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),q(4,ic,3,1,"span",22,et),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.sealNumbers")),l(2),W((e=i.primaryEvent())==null?null:e.sealNo)}}function oc(n,t){if(n&1&&(p(0,"span",24),O(1,"span",18),d(2),u()),n&2){let e=t.$implicit;l(2),C(" ",e," ")}}function ac(n,t){if(n&1&&(p(0,"div",11)(1,"span",15),d(2),u(),p(3,"span",16),q(4,oc,3,1,"span",24,et),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.dangerousGoods")),l(2),W((e=i.primaryEvent())==null?null:e.dg)}}function sc(n,t){if(n&1&&(p(0,"span",25),O(1,"span",19),d(2),u()),n&2){let e=t.$implicit;l(2),C(" ",e," ")}}function lc(n,t){if(n&1&&(p(0,"div",12)(1,"span",15),d(2),u(),p(3,"span",16),q(4,sc,3,1,"span",25,et),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.damages")),l(2),W((e=i.primaryEvent())==null?null:e.dmg)}}function cc(n,t){if(n&1&&(p(0,"span",31),O(1,"span",18),u()),n&2){let e=h(3);L("title",le(e.i18n.t("summary.label.reeferAlert")))}}function dc(n,t){if(n&1&&(p(0,"div",13)(1,"span",15),d(2),u(),p(3,"div",26)(4,"div",27)(5,"span",28),d(6),u(),p(7,"span",29),d(8),u()(),p(9,"div",30)(10,"span",28),d(11),u(),p(12,"span",29),d(13),u(),v(14,cc,2,2,"span",31),u(),p(15,"div",32)(16,"span",28),d(17),u(),p(18,"span",29),d(19),oe(20,"date"),u()()()()),n&2){let e,i,r,o=h(2);L("ngClass",Tt(15,Ul,o.isReeferTempAlert())),l(2),g(o.i18n.t("summary.label.reeferInfo")),l(4),g(o.i18n.t("summary.label.reeferRequiredTemp")),l(2),Ce("",(e=o.reeferData())==null?null:e.requireTemp,"\xB0",(e=o.reeferData())==null?null:e.requireTempUnit),l(),L("ngClass",Tt(17,jl,o.isReeferTempAlert())),l(2),g(o.i18n.t("summary.label.reeferReadingTemp")),l(2),Ce("",(i=o.reeferData())==null?null:i.readingTemp,"\xB0",(i=o.reeferData())==null?null:i.readingTempUnit),l(),_(o.isReeferTempAlert()?14:-1),l(3),g(o.i18n.t("summary.label.reeferReadingTime")),l(2),g(ae(20,12,(r=o.reeferData())==null?null:r.readingTime,"medium"))}}function uc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.containerWeight")),l(2),C("",(e=i.primaryEvent())==null?null:e.containerWeight," kg")}}function pc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.source")),l(2),g((e=i.primaryEvent())==null?null:e.source)}}function mc(n,t){if(n&1&&(p(0,"div",14)(1,"span",15),d(2),u(),p(3,"div",16)(4,"div",33),O(5,"div",34),u(),p(6,"span",35),d(7),u()()()),n&2){let e=h(2);l(2),g(e.i18n.t("summary.label.voyageProgress")),l(3),Xr("width",e.voyageProgress().percent,"%"),l(2),g(e.i18n.t("summary.label.voyageProgressValue",eo(4,Hl,e.voyageProgress().percent,e.voyageProgress().completedLegs,e.voyageProgress().totalLegs)))}}function hc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),u()()),n&2){let e=h(2);l(2),g(e.i18n.t("summary.label.totalTransportEvents")),l(2),g(e.transportEventCount())}}function fc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),oe(5,"date"),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.firstEvent")),l(2),Ce("",i.getEventTypeLabel(i.firstEvent())," - ",ae(5,3,(e=i.firstEvent())==null?null:e.eventDateTime,"medium"))}}function gc(n,t){if(n&1&&(p(0,"div",10)(1,"span",15),d(2),u(),p(3,"span",16),d(4),oe(5,"date"),u()()),n&2){let e,i=h(2);l(2),g(i.i18n.t("summary.label.latestEvent")),l(2),Ce("",i.getEventTypeLabel(i.lastEvent())," - ",ae(5,3,(e=i.lastEvent())==null?null:e.eventDateTime,"medium"))}}function vc(n,t){if(n&1&&(p(0,"div",2)(1,"h2"),d(2),u()(),p(3,"div",3),v(4,zl,2,3,"span",4),v(5,$l,3,3,"span",5),v(6,Bl,3,2,"span",6),v(7,Gl,3,2,"span",7),u(),p(8,"div",8),v(9,ql,7,4,"div",9),v(10,Wl,5,2,"div",10),v(11,Kl,5,2,"div",10),v(12,Yl,5,2,"div",10),v(13,Jl,5,2,"div",10),v(14,Ql,5,3,"div",10),v(15,Zl,5,2,"div",10),v(16,Xl,7,3,"div",10),v(17,ec,5,2,"div",10),v(18,tc,5,2,"div",10),v(19,nc,5,2,"div",10),v(20,rc,6,1,"div",10),v(21,ac,6,1,"div",11),v(22,lc,6,1,"div",12),v(23,dc,21,19,"div",13),v(24,uc,5,2,"div",10),v(25,pc,5,2,"div",10),v(26,mc,8,8,"div",14),p(27,"div",10)(28,"span",15),d(29),u(),p(30,"span",16),d(31),u()(),v(32,hc,5,2,"div",10),v(33,fc,6,6,"div",10),v(34,gc,6,6,"div",10),u()),n&2){let e,i,r,o,a,s,c,m,f,y,T,S,te,P=h();l(2),g(P.i18n.t("summary.title")),l(2),_(P.shipmentStatus()?4:-1),l(),_(P.hasReeferData()?5:-1),l(),_(P.hasDangerousGoods()?6:-1),l(),_(P.hasDamages()?7:-1),l(2),_(P.shipmentStatus()?9:-1),l(),_((e=P.primaryEvent())!=null&&e.shipmentId?10:-1),l(),_((i=P.primaryEvent())!=null&&i.blNo?11:-1),l(),_((r=P.primaryEvent())!=null&&r.bookingNumber?12:-1),l(),_((o=P.primaryEvent())!=null&&o.containerNumber?13:-1),l(),_((a=P.primaryEvent())!=null&&a.containerSize||(a=P.primaryEvent())!=null&&a.containerType?14:-1),l(),_((s=P.primaryEvent())!=null&&s.containerISOCode?15:-1),l(),_((c=P.primaryEvent())!=null&&c.shipmentType?16:-1),l(),_((m=P.primaryEvent())!=null&&m.carrier?17:-1),l(),_((f=P.primaryEvent())!=null&&f.origin?18:-1),l(),_((y=P.primaryEvent())!=null&&y.destination?19:-1),l(),_(!((T=P.primaryEvent())==null||T.sealNo==null)&&T.sealNo.length?20:-1),l(),_(P.hasDangerousGoods()?21:-1),l(),_(P.hasDamages()?22:-1),l(),_(P.hasReeferData()&&P.reeferData()?23:-1),l(),_((S=P.primaryEvent())!=null&&S.containerWeight?24:-1),l(),_((te=P.primaryEvent())!=null&&te.source?25:-1),l(),_(P.voyageProgress()?26:-1),l(3),g(P.i18n.t("summary.label.totalEquipmentEvents")),l(2),g(P.eventCount()),l(),_(P.transportEventCount()>0?32:-1),l(),_(P.firstEvent()?33:-1),l(),_(P.lastEvent()?34:-1)}}function _c(n,t){if(n&1&&(p(0,"div",1)(1,"p"),d(2),u()()),n&2){let e=h();l(2),g(e.i18n.t("summary.noData"))}}var Yn=class n{eventDataService=b(Ee);i18n=b(Z);ACTUAL_TIME_TYPE="A";GATE_OUT_CODE="OG";GATE_IN_CODE="IG";VESSEL_DEPARTURE_CODE="VD";HONG_KONG_LOCATION_CODE="HKHKG";primaryEvent=this.eventDataService.primaryEvent;eventCount=D(()=>this.primaryEvent()?.events?.length||0);transportEventCount=D(()=>this.primaryEvent()?.transportEvents?.length||0);hasDangerousGoods=D(()=>{let t=this.primaryEvent()?.dg;return Array.isArray(t)&&t.length>0});hasDamages=D(()=>{let t=this.primaryEvent()?.dmg;return Array.isArray(t)&&t.length>0});hasReeferData=D(()=>!!this.primaryEvent()?.terminalData?.reeferData);reeferData=D(()=>this.primaryEvent()?.terminalData?.reeferData);isReeferTempAlert=D(()=>{let t=this.reeferData();if(!t)return!1;let e=parseFloat(t.requireTemp),i=parseFloat(t.readingTemp);return isNaN(e)||isNaN(i)?!1:Math.abs(i-e)>=1});shipmentTypeLabel=D(()=>{let t=this.primaryEvent()?.shipmentType;return t?this.i18n.getShipmentTypeLabel(t):""});voyageProgress=D(()=>{let t=this.primaryEvent()?.transportEvents;if(!t||t.length===0)return null;let e=t.filter(a=>a.eventCode==="VD");if(e.length===0)return null;let i=e.length,r=e.filter(a=>a.timeType==="A").length;return{percent:Math.round(r/i*100),completedLegs:r,totalLegs:i}});shipmentStatus=D(()=>{let t=this.primaryEvent(),e=t?.events??[],i=t?.transportEvents??[];return e.length===0&&i.length===0?{label:this.i18n.t("status.unavailable.label"),description:this.i18n.t("status.unavailable.description"),tone:"unknown"}:e.some(a=>this.isActualGateEventAtPod(a))?{label:this.i18n.t("status.completed.label"),description:this.i18n.t("status.completed.description"),tone:"completed"}:(e.some(a=>this.isActualHongKongDeparture(a))||i.some(a=>this.isActualHongKongTransportDeparture(a)))&&!this.hasActualEventsOutsideHongKong(e,i)?{label:this.i18n.t("status.hkCompleted.label"),description:this.i18n.t("status.hkCompleted.description"),tone:"completed"}:{label:this.i18n.t("status.inTransit.label"),description:this.i18n.t("status.inTransit.description"),tone:"transit"}});firstEvent=D(()=>{let t=this.primaryEvent()?.events;return!t||t.length===0?null:[...t].sort((e,i)=>new Date(e.eventDateTime).getTime()-new Date(i.eventDateTime).getTime())[0]});lastEvent=D(()=>{let t=this.primaryEvent()?.events;if(!t||t.length===0)return null;let e=[...t].sort((i,r)=>new Date(i.eventDateTime).getTime()-new Date(r.eventDateTime).getTime());return e[e.length-1]});getEventTypeLabel(t){return t?t.eventCode?this.i18n.getEventCodeLabel(t.eventCode):t.eventType:""}isActualGateEventAtPod(t){return this.isActualEvent(t)&&this.isGateEvent(t)&&t.locationType?.toUpperCase()==="POD"}isActualEvent(t){return t.timeType?.toUpperCase()!==this.ACTUAL_TIME_TYPE||!t.eventDateTime?!1:!Number.isNaN(Date.parse(t.eventDateTime))}isActualTransportEvent(t){return t.timeType?.toUpperCase()!==this.ACTUAL_TIME_TYPE||!t.eventTime?!1:!Number.isNaN(Date.parse(t.eventTime))}isGateEvent(t){let e=t.eventCode?.toUpperCase();return e===this.GATE_OUT_CODE||e===this.GATE_IN_CODE}isHongKongLocation(t){return this.isHongKongLocationCode(t.unLocationCode)}isHongKongLocationCode(t){return t?.toUpperCase()===this.HONG_KONG_LOCATION_CODE}isDepartureLocationType(t){let e=t?.toUpperCase();return e==="POL"||e==="POT"||e==="POC"}isActualHongKongDeparture(t){return this.isActualEvent(t)&&t.eventCode?.toUpperCase()===this.VESSEL_DEPARTURE_CODE&&this.isHongKongLocation(t)&&this.isDepartureLocationType(t.locationType)}isActualHongKongTransportDeparture(t){return this.isActualTransportEvent(t)&&t.eventCode?.toUpperCase()===this.VESSEL_DEPARTURE_CODE&&this.isHongKongLocationCode(t.location?.unLocationCode)&&this.isDepartureLocationType(t.locationType)}hasActualEventsOutsideHongKong(t,e){return t.some(r=>this.isActualEvent(r)&&!this.isHongKongLocationCode(r.unLocationCode))||e.some(r=>this.isActualTransportEvent(r)&&!this.isHongKongLocationCode(r.location?.unLocationCode))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-event-summary"]],decls:3,vars:1,consts:[[1,"event-summary-container"],[1,"no-data"],[1,"summary-header"],[1,"indicator-pills"],[1,"pill","pill-status",3,"ngClass","title"],[1,"pill","pill-reefer",3,"title"],[1,"pill","pill-dg",3,"title"],[1,"pill","pill-dmg",3,"title"],[1,"summary-grid"],[1,"summary-item","summary-item-status",3,"ngClass"],[1,"summary-item"],[1,"summary-item","summary-item-dg"],[1,"summary-item","summary-item-dmg"],[1,"summary-item","summary-item-reefer",3,"ngClass"],[1,"summary-item","summary-item-progress"],[1,"label"],[1,"value"],["aria-hidden","true",1,"icon","icon-snow"],["aria-hidden","true",1,"icon","icon-alert"],["aria-hidden","true",1,"icon","icon-damage"],[1,"status-note"],[1,"value-code"],[1,"seal-tag"],["aria-hidden","true",1,"icon","icon-lock"],[1,"pill","pill-dg-inline"],[1,"pill","pill-dmg-inline"],[1,"value","reefer-details"],[1,"reefer-temp"],[1,"reefer-label"],[1,"reefer-value"],[1,"reefer-temp",3,"ngClass"],[1,"reefer-alert-icon",3,"title"],[1,"reefer-time"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"]],template:function(e,i){e&1&&(p(0,"div",0),v(1,vc,35,28)(2,_c,3,1,"div",1),u()),e&2&&(l(),_(i.primaryEvent()?1:2))},dependencies:[ce,gn,it],styles:[".event-summary-container[_ngcontent-%COMP%]{padding:14px;background:var(--bg-card);border-radius:var(--radius-lg);border:1px solid var(--border);box-shadow:var(--shadow-md)}.summary-header[_ngcontent-%COMP%]{border-bottom:2px solid var(--accent-cyan);padding-bottom:8px;margin-bottom:8px}h2[_ngcontent-%COMP%]{color:var(--text-primary);margin:0;font-size:1.05em;font-family:var(--font-display);letter-spacing:-.01em}.indicator-pills[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:8px}.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:10px;font-size:.65em;font-weight:600;letter-spacing:.3px;white-space:nowrap;gap:4px}.pill[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.85em;height:.85em}.pill-dg[_ngcontent-%COMP%], .pill-dg-inline[_ngcontent-%COMP%]{background:var(--accent-amber-dim);color:var(--accent-amber);border:1px solid rgba(245,158,11,.3)}.pill-dmg[_ngcontent-%COMP%], .pill-dmg-inline[_ngcontent-%COMP%]{background:var(--accent-coral-dim);color:var(--accent-coral);border:1px solid rgba(248,113,113,.3)}.pill-reefer[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);color:var(--accent-cyan);border:1px solid rgba(34,211,238,.3)}.pill-dg-inline[_ngcontent-%COMP%], .pill-dmg-inline[_ngcontent-%COMP%]{margin-right:4px}.pill-status-completed[_ngcontent-%COMP%]{background:var(--accent-emerald-dim);color:var(--accent-emerald);border:1px solid rgba(52,211,153,.3)}.pill-status-transit[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);color:var(--accent-cyan);border:1px solid rgba(34,211,238,.3)}.pill-status-limited[_ngcontent-%COMP%]{background:var(--accent-amber-dim);color:var(--accent-amber);border:1px solid rgba(245,158,11,.3)}.pill-status-unknown[_ngcontent-%COMP%]{background:#64748b1f;color:var(--text-muted);border:1px solid rgba(100,116,139,.25)}.summary-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-top:12px}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:8px 10px;background:var(--bg-secondary);border-radius:var(--radius-sm);border-left:3px solid var(--accent-cyan);transition:background .2s ease}.summary-item[_ngcontent-%COMP%]:hover{background:var(--bg-card-hover)}.summary-item-status[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);border-left-color:var(--accent-cyan)}.summary-item-status-completed[_ngcontent-%COMP%]{background:var(--accent-emerald-dim);border-left-color:var(--accent-emerald)}.summary-item-status-transit[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);border-left-color:var(--accent-cyan)}.summary-item-status-limited[_ngcontent-%COMP%]{background:var(--accent-amber-dim);border-left-color:var(--accent-amber)}.summary-item-status-unknown[_ngcontent-%COMP%]{background:#64748b14;border-left-color:var(--text-muted)}.summary-item-dg[_ngcontent-%COMP%]{background:var(--accent-amber-dim);border-left-color:var(--accent-amber)}.summary-item-dmg[_ngcontent-%COMP%]{background:var(--accent-coral-dim);border-left-color:var(--accent-coral)}.summary-item-reefer[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);border-left-color:var(--accent-cyan)}.summary-item-reefer-alert[_ngcontent-%COMP%]{background:var(--accent-amber-dim);border-left-color:var(--accent-amber)}.reefer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.reefer-temp[_ngcontent-%COMP%], .reefer-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.reefer-temp-alert[_ngcontent-%COMP%]{font-weight:600;color:var(--accent-amber)}.reefer-label[_ngcontent-%COMP%]{font-size:.8em;color:var(--text-muted);min-width:110px}.reefer-value[_ngcontent-%COMP%]{font-size:.9em;font-weight:500;color:var(--text-primary)}.reefer-alert-icon[_ngcontent-%COMP%]{margin-left:4px;display:inline-flex;align-items:center}.reefer-alert-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.9em;height:.9em}.seal-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;background:var(--accent-cyan-dim);color:var(--accent-cyan);border:1px solid rgba(34,211,238,.3);border-radius:12px;padding:2px 10px;font-size:.85em;margin-right:4px;margin-top:2px}.seal-tag[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.85em;height:.85em}.label[_ngcontent-%COMP%]{font-weight:700;color:var(--text-muted);font-size:.75em;margin-bottom:2px;text-transform:uppercase;letter-spacing:.3px}.value[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.9em}.status-note[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.78em;margin-top:2px}.no-data[_ngcontent-%COMP%]{text-align:center;padding:24px;color:var(--text-muted)}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em}.value-code[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85em}.summary-item-progress[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:var(--bg-card);border-radius:3px;overflow:hidden;border:1px solid var(--border)}.progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-emerald);border-radius:3px;transition:width .4s ease}.progress-text[_ngcontent-%COMP%]{font-size:.78em;color:var(--text-muted)}@media(max-width:480px){.event-summary-container[_ngcontent-%COMP%]{padding:10px}h2[_ngcontent-%COMP%]{font-size:.95em}.pill[_ngcontent-%COMP%]{font-size:.6em;padding:2px 6px}.summary-item[_ngcontent-%COMP%]{padding:6px 8px}.label[_ngcontent-%COMP%]{font-size:.7em}.value[_ngcontent-%COMP%]{font-size:.82em}.seal-tag[_ngcontent-%COMP%]{font-size:.78em;padding:2px 8px}.reefer-label[_ngcontent-%COMP%]{min-width:80px;font-size:.72em}.reefer-value[_ngcontent-%COMP%]{font-size:.82em}.status-note[_ngcontent-%COMP%]{font-size:.72em}.progress-text[_ngcontent-%COMP%]{font-size:.7em}}@media(max-width:375px){.event-summary-container[_ngcontent-%COMP%]{padding:8px}h2[_ngcontent-%COMP%]{font-size:.9em}.pill[_ngcontent-%COMP%]{font-size:.58em;padding:2px 6px}.summary-item[_ngcontent-%COMP%]{padding:5px 7px}.label[_ngcontent-%COMP%]{font-size:.68em}.value[_ngcontent-%COMP%]{font-size:.8em}.seal-tag[_ngcontent-%COMP%]{font-size:.75em;padding:2px 7px}.reefer-label[_ngcontent-%COMP%]{min-width:75px;font-size:.7em}.reefer-value[_ngcontent-%COMP%]{font-size:.8em}.status-note[_ngcontent-%COMP%]{font-size:.7em}.progress-text[_ngcontent-%COMP%]{font-size:.68em}}"]})};var yc=n=>({hours:n}),Cc=(n,t)=>t.anchorId,xc=(n,t)=>t.eventDateTime,bc=(n,t)=>t.locationCode,Ec=(n,t)=>t.label;function Mc(n,t){if(n&1&&(p(0,"span",26),d(1),u()),n&2){let e=h(2).$implicit,i=h(3);Mi(e.arrivalTimeType==="E"?"estimated":"planned"),l(),g(i.getTimeTypeLabel(e.arrivalTimeType))}}function Sc(n,t){if(n&1&&(p(0,"span",20),d(1),oe(2,"date"),v(3,Mc,2,3,"span",25),u()),n&2){let e=h().$implicit,i=h(3);l(),Ce(" ",i.i18n.t("timeline.arrivalShort"),": ",ae(2,3,e.arrivalTime,"dd MMM HH:mm")," "),l(2),_(e.arrivalTimeType&&e.arrivalTimeType!=="A"?3:-1)}}function Tc(n,t){if(n&1&&(p(0,"span",21),d(1),u()),n&2){let e=h(4);l(),C("",e.i18n.t("timeline.arrivalShort"),": \u2014")}}function wc(n,t){if(n&1&&(p(0,"span",26),d(1),u()),n&2){let e=h(2).$implicit,i=h(3);Mi(e.departureTimeType==="E"?"estimated":"planned"),l(),g(i.getTimeTypeLabel(e.departureTimeType))}}function Oc(n,t){if(n&1&&(p(0,"span",22),d(1),oe(2,"date"),v(3,wc,2,3,"span",25),u()),n&2){let e=h().$implicit,i=h(3);l(),Ce(" ",i.i18n.t("timeline.departureShort"),": ",ae(2,3,e.departureTime,"dd MMM HH:mm")," "),l(2),_(e.departureTimeType&&e.departureTimeType!=="A"?3:-1)}}function Dc(n,t){if(n&1&&(p(0,"span",21),d(1),u()),n&2){let e=h(4);l(),C("",e.i18n.t("timeline.departureShort"),": \u2014")}}function Pc(n,t){if(n&1&&(p(0,"span",27),O(1,"span",28),d(2),u()),n&2){let e=h().$implicit,i=h(3);re("port-dwell-alert",e.dwellTimeHours>=i.dwellAlertHours),L("title",e.dwellTimeHours>=i.dwellAlertHours?i.i18n.t("timeline.dwellAlert"):""),l(2),C(" ",i.i18n.t("timeline.dwellTime",Tt(4,yc,e.dwellTimeHours))," ")}}function Ic(n,t){if(n&1&&(p(0,"span",29),O(1,"span",30),d(2),u()),n&2){h();let e=St(1),i=h(4);L("title",i.i18n.t("summary.vesselChange")+" "+e),l(2),C(" ",e," ")}}function Ac(n,t){if(n&1&&(p(0,"div",24),mn(1),v(2,Ic,3,2,"span",29),u()),n&2){let e=h().$index;l();let i=hn(h(3).getVesselChangeAt(e));l(),_(i?2:-1)}}function Rc(n,t){if(n&1&&(p(0,"div",15),O(1,"div",16),p(2,"div",17)(3,"span",18),d(4),u(),p(5,"span",19),d(6),u(),v(7,Sc,4,6,"span",20)(8,Tc,2,1,"span",21),v(9,Oc,4,6,"span",22)(10,Dc,2,1,"span",21),v(11,Pc,3,6,"span",23),u()(),v(12,Ac,3,2,"div",24)),n&2){let e=t.$implicit,i=t.$index,r=t.$count;l(4),g(e.locationName),l(2),g(e.locationCode),l(),_(e.arrivalTime?7:8),l(2),_(e.departureTime?9:10),l(2),_(e.dwellTimeHours!=null?11:-1),l(),_(i!==r-1?12:-1)}}function Nc(n,t){if(n&1&&(p(0,"div",2)(1,"h3",12),O(2,"span",13),d(3),u(),p(4,"div",14),q(5,Rc,13,6,null,null,bc),u()()),n&2){let e=h(2);l(3),C(" ",e.i18n.t("timeline.portTransition")," "),l(2),W(e.portTransition())}}function Lc(n,t){if(n&1&&O(0,"div",38),n&2){let e=h().$implicit;re("milestone-connector-completed",e.completed)}}function Vc(n,t){if(n&1&&(p(0,"div",34)(1,"div",35),d(2),u(),p(3,"span",36),d(4),u()(),v(5,Lc,1,2,"div",37)),n&2){let e=t.$implicit,i=t.$index,r=t.$count;re("milestone-completed",e.completed)("milestone-origin",e.phase==="origin")("milestone-transit",e.phase==="transit")("milestone-destination",e.phase==="destination"),l(2),g(e.completed?"\u2713":""),l(2),g(e.label),l(),_(i!==r-1?5:-1)}}function kc(n,t){if(n&1&&(p(0,"div",3)(1,"h3",31),O(2,"span",32),d(3),u(),p(4,"div",33),q(5,Vc,6,11,null,null,Ec),u()()),n&2){let e=h(2);l(3),C(" ",e.i18n.t("milestone.title")," "),l(2),W(e.milestones())}}function Fc(n,t){if(n&1){let e=ie();p(0,"li")(1,"button",39),F("click",function(){let r=z(e).$implicit,o=h(2);return $(o.scrollToSection(r.anchorId))}),p(2,"span",40),d(3),u(),p(4,"span",41),d(5),u()()()}if(n&2){let e=t.$implicit;l(3),g(e.label),l(2),g(e.count)}}function Uc(n,t){if(n&1&&(p(0,"div",42),d(1),u()),n&2){let e=h().$index;h();let i=St(15);l(),g(i[e])}}function jc(n,t){if(n&1&&(p(0,"div",57)(1,"strong"),d(2),u(),d(3),oe(4,"date"),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),C("",i.i18n.t("time.actual"),":"),l(),C(" ",ae(4,2,e.actualTime,"medium")," ")}}function Hc(n,t){if(n&1&&(p(0,"div",58)(1,"strong"),d(2),u(),d(3),oe(4,"date"),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),C("",i.i18n.t("time.estimated"),":"),l(),C(" ",ae(4,2,e.estimatedTime,"medium")," ")}}function zc(n,t){if(n&1&&(p(0,"div",59)(1,"strong"),d(2),u(),d(3),oe(4,"date"),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),C("",i.i18n.t("time.planned"),":"),l(),C(" ",ae(4,2,e.plannedTime,"medium")," ")}}function $c(n,t){if(n&1&&(p(0,"div",52),v(1,jc,5,5,"div",57),v(2,Hc,5,5,"div",58),v(3,zc,5,5,"div",59),u()),n&2){let e=h().$implicit;l(),_(e.actualTime?1:-1),l(),_(e.estimatedTime?2:-1),l(),_(e.plannedTime?3:-1)}}function Bc(n,t){if(n&1&&(p(0,"div",53),O(1,"span",28),d(2),u()),n&2){h();let e=St(15);L("ngClass","eta-variance-"+e.tone),l(2),C(" ",e.label," ")}}function Gc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h().$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.location")),l(),C(" ",e.location," ")}}function qc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h().$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.eventCode")),l(),C(" ",e.eventCode," ")}}function Wc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h().$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.locationType")),l(),C(" ",i.getLocationTypeLabel(e.locationType)," ")}}function Kc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.transportMode")),l(),C(" ",e.modeOfTransport," ")}}function Yc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.vessel")),l(),C(" ",e.vessel," ")}}function Jc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.voyage")),l(),C(" ",e.voyage," ")}}function Qc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.containerStatus")),l(),C(" ",i.getContainerStatusLabel(e.containerStatus)," ")}}function Zc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.status")),l(),C(" ",i.getStatusLabel(e)," ")}}function Xc(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.facility")),l(),C(" ",e.facilityName," ")}}function ed(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h(2).$implicit,i=h(2);l(2),g(i.i18n.t("timeline.detail.dataProvider")),l(),C(" ",e.dataProvider," ")}}function td(n,t){if(n&1&&(p(0,"details",56)(1,"summary"),d(2),u(),p(3,"div",60),v(4,Kc,4,2,"span",55),v(5,Yc,4,2,"span",55),v(6,Jc,4,2,"span",55),v(7,Qc,4,2,"span",55),v(8,Zc,4,2,"span",55),v(9,Xc,4,2,"span",55),v(10,ed,4,2,"span",55),u()()),n&2){let e=h().$implicit,i=h(2);l(2),g(i.i18n.t("timeline.moreDetails")),l(2),_(e.modeOfTransport?4:-1),l(),_(e.vessel?5:-1),l(),_(e.voyage?6:-1),l(),_(e.containerStatus?7:-1),l(),_(e.status?8:-1),l(),_(e.facilityName?9:-1),l(),_(e.dataProvider?10:-1)}}function nd(n,t){if(n&1&&(v(0,Uc,2,1,"div",42),p(1,"div",43)(2,"div",44)(3,"div",45),O(4,"span",46),u()(),p(5,"div",47)(6,"div",48)(7,"h3",49),d(8),u(),p(9,"span",50),d(10),oe(11,"date"),u()(),p(12,"p",51),d(13),u(),v(14,$c,4,3,"div",52),mn(15),v(16,Bc,3,2,"div",53),p(17,"div",54),v(18,Gc,4,2,"span",55),v(19,qc,4,2,"span",55),v(20,Wc,4,2,"span",55),u(),v(21,td,11,8,"details",56),u()()),n&2){let e=t.$implicit,i=t.$index;h();let r=St(15),o=h();_(i===0||r[i]!==r[i-1]?0:-1),l(),L("ngClass",o.getLocationTypeClass(e)),G("id",o.getEventAnchorId(i)),l(3),L("ngClass",o.getEventIcon(e)),l(),L("ngClass",o.getLocationTypeClass(e)),l(3),g(o.getEventTypeLabel(e)),l(2),g(ae(11,14,e.eventDateTime,"medium")),l(3),g(o.getEventDescription(e)),l(),_(e.actualTime||e.estimatedTime||e.plannedTime?14:-1),l();let a=hn(o.getEtaVariance(e));l(),_(a?16:-1),l(2),_(e.location?18:-1),l(),_(e.eventCode?19:-1),l(),_(e.locationType?20:-1),l(),_(o.hasAdditionalDetails(e)?21:-1)}}function id(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h().$implicit,i=h(3);l(2),g(i.i18n.t("timeline.detail.location")),l(),C(" ",e.location)}}function rd(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h().$implicit,i=h(3);l(2),g(i.i18n.t("timeline.detail.eventCode")),l(),C(" ",e.eventCode)}}function od(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h().$implicit,i=h(3);l(2),g(i.i18n.t("timeline.detail.locationType")),l(),C(" ",i.getLocationTypeLabel(e.locationType))}}function ad(n,t){if(n&1&&(p(0,"span",55)(1,"strong"),d(2),u(),d(3),u()),n&2){let e=h().$implicit,i=h(3);l(2),g(i.i18n.t("timeline.detail.vessel")),l(),C(" ",e.vessel)}}function sd(n,t){if(n&1&&(p(0,"div",64)(1,"div",48)(2,"span",65),O(3,"span",46),u(),p(4,"h3",49),d(5),u()(),p(6,"p",51),d(7),u(),p(8,"div",66),v(9,id,4,2,"span",55),v(10,rd,4,2,"span",55),v(11,od,4,2,"span",55),v(12,ad,4,2,"span",55),u()()),n&2){let e=t.$implicit,i=h(3);l(3),L("ngClass",i.getEventIcon(e)),l(2),g(i.getEventTypeLabel(e)),l(2),g(i.getEventDescription(e)),l(2),_(e.location?9:-1),l(),_(e.eventCode?10:-1),l(),_(e.locationType?11:-1),l(),_(e.vessel?12:-1)}}function ld(n,t){if(n&1&&(p(0,"div",11)(1,"h3",61),O(2,"span",62),d(3),u(),p(4,"p",63),d(5),u(),q(6,sd,13,7,"div",64,Jr),u()),n&2){let e=h(2);l(3),C(" ",e.i18n.t("timeline.unscheduledTitle")," "),l(2),g(e.i18n.t("timeline.unscheduledHint")),l(),W(e.undatedEvents())}}function cd(n,t){if(n&1&&(p(0,"h2"),d(1),u(),v(2,Nc,7,1,"div",2),v(3,kc,7,1,"div",3),p(4,"div",4)(5,"details",5)(6,"summary",6),d(7),u(),p(8,"nav",7)(9,"div",8),d(10),u(),p(11,"ul",9),q(12,Fc,6,2,"li",null,Cc),u()()(),p(14,"div",10),mn(15),q(16,nd,22,18,null,null,xc),u()(),v(18,ld,8,2,"div",11)),n&2){let e=h();l(),g(e.i18n.t("timeline.title")),l(),_(e.portTransition().length>0?2:-1),l(),_(e.milestones().length>0?3:-1),l(4),g(e.i18n.t("timeline.indexLabel")),l(),dn("aria-label",le(e.i18n.t("timeline.indexAria"))),l(2),g(e.i18n.t("timeline.indexLabel")),l(2),W(e.timelineIndex()),l(3),hn(e.eventIndexLabels()),l(),W(e.sortedEvents()),l(2),_(e.undatedEvents().length>0?18:-1)}}function dd(n,t){if(n&1&&(p(0,"div",1)(1,"p"),d(2),u()()),n&2){let e=h();l(2),g(e.i18n.t("timeline.noEvents"))}}var Jn=class n{eventDataService=b(Ee);document=b(ge);i18n=b(Z);static DWELL_ALERT_HOURS=48;dwellAlertHours=n.DWELL_ALERT_HOURS;indexDateFormatter=D(()=>new Intl.DateTimeFormat(this.i18n.localeTag(),{day:"numeric",month:"short",year:"numeric"}));primaryEvent=this.eventDataService.primaryEvent;portTransition=D(()=>{let e=this.primaryEvent()?.transportEvents;if(!e||e.length===0)return[];let i=c=>`${c.locationType}:${c.location.unLocationCode}`,r=new Map;for(let c of e){if(c.seq==null)continue;let m=i(c),f=c.DataProviderPriority??Number.MAX_SAFE_INTEGER,y=r.get(m);(!y||f<y.priority||f===y.priority&&c.seq<y.seq)&&r.set(m,{seq:c.seq,priority:f})}let o=[...e].sort((c,m)=>{let f=r.get(i(c))?.seq??c.seq??null,y=r.get(i(m))?.seq??m.seq??null;return f!=null&&y!=null?f-y:f!=null?-1:y!=null?1:new Date(c.eventTime).getTime()-new Date(m.eventTime).getTime()}),a=new Map,s=[];for(let c of o){let m=c.location.unLocationCode;a.has(m)||(a.set(m,{locationName:c.location.unLocationName,locationCode:m,locationType:c.locationType}),s.push(m));let f=a.get(m);c.eventCode==="VD"||c.eventCode==="RD"?(f.departureTime=c.eventTime,f.departureTimeType=c.timeType,f.departureVessel=c.conveyanceInfo?.conveyanceName):(c.eventCode==="VA"||c.eventCode==="RA")&&(f.arrivalTime=c.eventTime,f.arrivalTimeType=c.timeType,f.arrivalVessel=c.conveyanceInfo?.conveyanceName)}for(let c of a.values())if(c.arrivalTime&&c.departureTime){let m=new Date(c.arrivalTime).getTime(),f=new Date(c.departureTime).getTime();!isNaN(m)&&!isNaN(f)&&f>m&&(c.dwellTimeHours=this.roundToOneDecimal((f-m)/(1e3*60*60)))}return s.map(c=>a.get(c))});vesselChanges=D(()=>{let t=this.portTransition();if(t.length<2)return[];let e=[];for(let i=0;i<t.length-1;i++){let r=t[i].departureVessel,o=t[i+1].departureVessel;r&&o&&r!==o&&e.push({index:i,from:r,to:o})}return e});getVesselChangeAt(t){let e=this.vesselChanges().find(i=>i.index===t);return e?e.to:null}getEtaVariance(t){if(!t.actualTime||!t.estimatedTime)return null;let e=new Date(t.actualTime).getTime(),i=new Date(t.estimatedTime).getTime();if(isNaN(e)||isNaN(i))return null;let r=e-i,o=this.roundToOneDecimal(Math.abs(r)/(1e3*60*60)),a=r>0?this.i18n.t("eta.later"):this.i18n.t("eta.earlier"),s=o<2?"green":o<12?"amber":"red";return{diffHours:o,label:this.i18n.t("eta.varianceLabel",{hours:o,direction:a}),tone:s}}milestones=D(()=>{let t=this.primaryEvent();if(!t)return[];let e=t.events??[],i=t.transportEvents??[],r=[],o=(m,f)=>e.some(y=>y.eventCode===m&&y.locationType===f&&y.timeType==="A"),a=(m,f)=>i.some(y=>y.eventCode===m&&y.locationType===f&&y.timeType==="A"),s=(m,f)=>{let y=e.find(S=>S.eventCode===m&&S.locationType===f),T=i.find(S=>S.eventCode===m&&S.locationType===f);return y?.eventDateTime??T?.eventTime};r.push({label:this.i18n.t("milestone.gateIn"),eventCode:"IG",phase:"origin",completed:o("IG","POL"),time:s("IG","POL")}),r.push({label:this.i18n.t("milestone.loaded"),eventCode:"AL",phase:"origin",completed:o("AL","POL"),time:s("AL","POL")}),r.push({label:this.i18n.t("milestone.vesselDeparture"),eventCode:"VD",phase:"origin",completed:a("VD","POL")||o("VD","POL"),time:s("VD","POL")});let c=new Set(i.filter(m=>m.locationType==="POT"||m.locationType==="POC").map(m=>m.location.unLocationCode));for(let m of c){let f=i.find(S=>S.location.unLocationCode===m)?.location.unLocationName??m,y=i.some(S=>S.eventCode==="VA"&&S.location.unLocationCode===m&&S.timeType==="A"),T=i.some(S=>S.eventCode==="VD"&&S.location.unLocationCode===m&&S.timeType==="A");r.push({label:this.i18n.t("milestone.transitArr",{port:f}),eventCode:"VA",phase:"transit",completed:y,time:i.find(S=>S.eventCode==="VA"&&S.location.unLocationCode===m)?.eventTime}),r.push({label:this.i18n.t("milestone.transitDep",{port:f}),eventCode:"VD",phase:"transit",completed:T,time:i.find(S=>S.eventCode==="VD"&&S.location.unLocationCode===m)?.eventTime})}return r.push({label:this.i18n.t("milestone.vesselArrival"),eventCode:"VA",phase:"destination",completed:a("VA","POD")||o("VA","POD"),time:s("VA","POD")}),r.push({label:this.i18n.t("milestone.unloaded"),eventCode:"UV",phase:"destination",completed:o("UV","POD"),time:s("UV","POD")}),r.push({label:this.i18n.t("milestone.gateOut"),eventCode:"OG",phase:"destination",completed:o("OG","POD"),time:s("OG","POD")}),r});hasValidDate(t){return!!t.eventDateTime&&!isNaN(new Date(t.eventDateTime).getTime())}sortedEvents=D(()=>{let t=this.primaryEvent()?.events;return t?t.filter(e=>this.hasValidDate(e)).sort((e,i)=>new Date(e.eventDateTime).getTime()-new Date(i.eventDateTime).getTime()):[]});undatedEvents=D(()=>{let t=this.primaryEvent()?.events;return t?t.filter(e=>!this.hasValidDate(e)):[]});eventIndexLabels=D(()=>this.sortedEvents().map(t=>this.formatIndexLabel(t)));timelineIndex=D(()=>{let t=this.eventIndexLabels(),e=[];return t.forEach((i,r)=>{let o=e.at(-1);!o||o.label!==i?e.push({label:i,anchorId:this.getEventAnchorId(r),count:1}):o.count+=1}),e});getEventIcon(t){let e=t.eventCode?.toUpperCase();return e==="VD"||e==="RD"?"icon-ship":e==="VA"||e==="RA"?"icon-flag":e==="AL"||e==="UV"||e==="PD"?"icon-box":e==="OG"||e==="IG"?"icon-gate":t.eventType.toLowerCase().includes("customs")?"icon-customs":"icon-pin"}getEventTypeLabel(t){return t.eventCode?this.i18n.getEventCodeLabel(t.eventCode):t.eventType}getEventDescription(t){let e=[];t.eventType&&e.push(this.getEventTypeLabel(t)),t.containerStatus&&e.push(this.i18n.t("parser.containerStatus",{status:this.i18n.getContainerStatusLabel(t.containerStatus)})),t.modeOfTransport&&e.push(this.i18n.t("parser.via",{mode:t.modeOfTransport}));let i=this.buildTimeDetails(t);return i.length>1&&e.push(this.i18n.t("parser.timeDetails",{details:i.join(", ")})),e.length>0?e.join(" "):t.description}getEventAnchorId(t){return`event-${t}`}formatIndexLabel(t){return this.indexDateFormatter().format(new Date(t.eventDateTime))}getLocationTypeLabel(t){return t?this.i18n.getLocationTypeLabel(t):""}getContainerStatusLabel(t){return t?this.i18n.getContainerStatusLabel(t):""}getStatusLabel(t){return t.containerStatus&&t.timeType?this.i18n.t("parser.containerStatusFormat",{status:this.i18n.getContainerStatusLabel(t.containerStatus),timeType:this.i18n.getTimeTypeLabel(t.timeType)}):t.status||""}getLocationTypeClass(t){switch(t.locationType?.toUpperCase()){case"POL":return"location-pol";case"POD":return"location-pod";case"POT":return"location-pot";default:return""}}hasAdditionalDetails(t){return!!(t.modeOfTransport||t.vessel||t.voyage||t.containerStatus||t.status||t.facilityName||t.dataProvider)}scrollToSection(t){let e=this.document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}getTimeTypeLabel(t){return this.i18n.getTimeTypeLabel(t)}buildTimeDetails(t){let e=[];return t.actualTime&&e.push(`${this.i18n.t("time.actual")}: ${new Date(t.actualTime).toLocaleString(this.i18n.localeTag())}`),t.estimatedTime&&e.push(`${this.i18n.t("time.estimated")}: ${new Date(t.estimatedTime).toLocaleString(this.i18n.localeTag())}`),t.plannedTime&&e.push(`${this.i18n.t("time.planned")}: ${new Date(t.plannedTime).toLocaleString(this.i18n.localeTag())}`),e}roundToOneDecimal(t){return Math.round(t*10)/10}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-event-timeline"]],decls:3,vars:1,consts:[[1,"event-timeline-container"],[1,"no-events"],[1,"port-transition"],[1,"milestone-tracker"],[1,"timeline-layout"],["open","",1,"timeline-index-accordion"],[1,"timeline-index-summary"],[1,"timeline-index",3,"aria-label"],[1,"timeline-index-title"],[1,"timeline-index-list"],[1,"timeline"],[1,"undated-events"],[1,"port-transition-title"],["aria-hidden","true",1,"icon","icon-ship"],[1,"port-transition-track"],[1,"port-node"],[1,"port-dot"],[1,"port-info"],[1,"port-name"],[1,"port-code"],[1,"port-time","arrival"],[1,"port-time","unknown"],[1,"port-time","departure"],[1,"port-dwell",3,"port-dwell-alert","title"],[1,"port-connector"],[1,"time-type-badge",3,"class"],[1,"time-type-badge"],[1,"port-dwell",3,"title"],["aria-hidden","true",1,"icon","icon-clock"],[1,"vessel-change-badge",3,"title"],["aria-hidden","true",1,"icon","icon-swap"],[1,"milestone-tracker-title"],["aria-hidden","true",1,"icon","icon-flag"],[1,"milestone-track"],[1,"milestone-step"],[1,"milestone-dot"],[1,"milestone-label"],[1,"milestone-connector",3,"milestone-connector-completed"],[1,"milestone-connector"],["type","button",1,"timeline-index-link",3,"click"],[1,"timeline-index-label"],[1,"timeline-index-count"],[1,"timeline-group-label"],[1,"timeline-item",3,"ngClass"],[1,"timeline-marker"],[1,"timeline-icon"],["aria-hidden","true",1,"icon",3,"ngClass"],[1,"timeline-content",3,"ngClass"],[1,"event-header"],[1,"event-type"],[1,"event-date"],[1,"event-description"],[1,"event-times"],[1,"eta-variance",3,"ngClass"],[1,"event-details","event-details-primary"],[1,"detail-item"],[1,"event-details-expand"],[1,"time-item","actual"],[1,"time-item","estimated"],[1,"time-item","planned"],[1,"event-details","event-details-secondary"],[1,"undated-events-title"],["aria-hidden","true",1,"icon","icon-hourglass"],[1,"undated-events-hint"],[1,"undated-event-card"],[1,"timeline-icon-inline"],[1,"event-details"]],template:function(e,i){e&1&&(p(0,"div",0),v(1,cd,19,9)(2,dd,3,1,"div",1),u()),e&2&&(l(),_(i.primaryEvent()&&(i.sortedEvents().length>0||i.undatedEvents().length>0)?1:i.primaryEvent()?2:-1))},dependencies:[ce,gn,it],styles:['.event-timeline-container[_ngcontent-%COMP%]{padding:14px;background:var(--bg-card);border-radius:var(--radius-lg);border:1px solid var(--border);box-shadow:var(--shadow-md)}h2[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 16px;border-bottom:2px solid var(--accent-cyan);padding-bottom:8px;font-size:1.05em;font-family:var(--font-display)}.timeline-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(140px,180px) minmax(0,1fr);gap:16px}.timeline-index-accordion[_ngcontent-%COMP%]{display:contents}.timeline-index-summary[_ngcontent-%COMP%]{display:none}.timeline-index[_ngcontent-%COMP%]{position:sticky;top:12px;align-self:start;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-md);padding:10px}.timeline-index-title[_ngcontent-%COMP%]{font-size:.85em;font-weight:600;color:var(--text-secondary);margin-bottom:8px;font-family:var(--font-display)}.timeline-index-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:6px}.timeline-index-link[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;text-align:left;padding:4px 6px;border-radius:var(--radius-sm);font-size:.78em;color:var(--accent-cyan);cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:8px;font-family:var(--font-body);transition:background .2s ease}.timeline-index-link[_ngcontent-%COMP%]:hover{background:var(--accent-cyan-dim)}.timeline-index-label[_ngcontent-%COMP%]{font-weight:600}.timeline-index-count[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);color:var(--accent-cyan);padding:1px 6px;border-radius:999px;font-size:.7em}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:44px}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:16px;top:0;bottom:0;width:2px;background:var(--border-light)}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:16px;display:flex;align-items:flex-start;min-width:0}.timeline-group-label[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.75em;font-weight:600;letter-spacing:.08em;text-transform:uppercase;margin:12px 0 6px;font-family:var(--font-display)}.timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-28px;top:0}.timeline-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:var(--bg-card);border:2px solid var(--accent-cyan);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.1em;color:var(--accent-cyan);box-shadow:0 0 8px #22d3ee26}.timeline-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}.timeline-content[_ngcontent-%COMP%]{flex:1;min-width:0;background:var(--bg-secondary);padding:12px;border-radius:var(--radius-md);border-left:3px solid var(--accent-cyan);transition:background .2s ease}.timeline-content[_ngcontent-%COMP%]:hover{background:var(--bg-card-hover)}.event-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;flex-wrap:wrap;gap:6px}.event-type[_ngcontent-%COMP%]{color:var(--accent-cyan);font-size:.95em;margin:0;font-weight:600;font-family:var(--font-display)}.event-date[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8em}.event-description[_ngcontent-%COMP%]{color:var(--text-secondary);margin:4px 0;line-height:1.4;font-size:.85em}.event-times[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin:8px 0;padding:8px;background:var(--bg-card);border-radius:var(--radius-sm);border-left:2px solid var(--accent-emerald)}.time-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.8em}.time-item.actual[_ngcontent-%COMP%], .time-item.actual[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent-emerald)}.time-item.estimated[_ngcontent-%COMP%], .time-item.estimated[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent-amber)}.time-item.planned[_ngcontent-%COMP%], .time-item.planned[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent-lavender)}.event-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;padding-top:8px;border-top:1px solid var(--border)}.detail-item[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8em;min-width:0;overflow-wrap:anywhere}.detail-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-secondary)}.event-details-primary[_ngcontent-%COMP%]{gap:6px 10px}.event-details-expand[_ngcontent-%COMP%]{margin-top:8px}.event-details-expand[_ngcontent-%COMP%] > summary[_ngcontent-%COMP%]{cursor:pointer;font-size:.78em;color:var(--accent-cyan);font-weight:600}.event-details-secondary[_ngcontent-%COMP%]{margin-top:8px}.no-events[_ngcontent-%COMP%]{text-align:center;padding:24px;color:var(--text-muted)}.no-events[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em}.port-transition[_ngcontent-%COMP%]{margin-bottom:20px;padding:14px;background:var(--bg-secondary);border-radius:var(--radius-md);border:1px solid var(--border);position:relative}@media(max-width:768px){.port-transition[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:0;bottom:0;width:30px;background:linear-gradient(to right,transparent,var(--bg-secondary));pointer-events:none;border-radius:0 var(--radius-md) var(--radius-md) 0}}.port-transition-title[_ngcontent-%COMP%]{font-size:.9em;font-weight:600;color:var(--text-secondary);margin:0 0 14px;font-family:var(--font-display);display:inline-flex;align-items:center;gap:6px}.port-transition-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.port-transition-track[_ngcontent-%COMP%]{display:flex;align-items:flex-start;overflow-x:auto;padding:8px 0;max-width:100%;-webkit-overflow-scrolling:touch;scroll-snap-type:x proximity}.port-node[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:120px;flex-shrink:0}.port-dot[_ngcontent-%COMP%]{width:16px;height:16px;background:var(--accent-cyan);border:3px solid var(--bg-card);border-radius:50%;box-shadow:0 0 0 2px var(--accent-cyan),0 0 8px #22d3ee4d;z-index:1}.port-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px;text-align:center;gap:2px}.port-name[_ngcontent-%COMP%]{font-size:.8em;font-weight:600;color:var(--text-primary);line-height:1.3}.port-code[_ngcontent-%COMP%]{font-size:.72em;color:var(--accent-cyan);font-weight:600;background:var(--accent-cyan-dim);padding:1px 6px;border-radius:var(--radius-sm)}.port-time[_ngcontent-%COMP%]{font-size:.7em;color:var(--text-muted);display:flex;align-items:center;gap:4px}.port-time.arrival[_ngcontent-%COMP%]{color:var(--accent-emerald)}.port-time.departure[_ngcontent-%COMP%]{color:var(--accent-cyan)}.port-time.unknown[_ngcontent-%COMP%]{color:var(--text-muted);font-style:italic}.time-type-badge[_ngcontent-%COMP%]{font-size:.85em;padding:0 4px;border-radius:3px;font-weight:500}.time-type-badge.estimated[_ngcontent-%COMP%]{color:var(--accent-amber);background:var(--accent-amber-dim)}.time-type-badge.planned[_ngcontent-%COMP%]{color:var(--accent-lavender);background:#a78bfa1f}.port-connector[_ngcontent-%COMP%]{flex:1;min-width:40px;height:2px;background:var(--accent-cyan);margin-top:7px;position:relative;opacity:.5}.port-connector[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-3px;top:-3px;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:6px solid var(--accent-cyan)}.vessel-change-badge[_ngcontent-%COMP%]{position:absolute;top:8px;left:50%;transform:translate(-50%);font-size:.62em;background:var(--accent-amber-dim);color:var(--accent-amber);border:1px solid rgba(245,158,11,.3);border-radius:8px;padding:1px 6px;white-space:nowrap;font-weight:500;display:inline-flex;align-items:center;gap:4px}.vessel-change-badge[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.9em;height:.9em}.timeline-content.location-pol[_ngcontent-%COMP%]{border-left-color:var(--accent-emerald)}.timeline-content.location-pod[_ngcontent-%COMP%]{border-left-color:var(--accent-coral)}.timeline-content.location-pot[_ngcontent-%COMP%]{border-left-color:var(--accent-amber)}@media(max-width:900px){.timeline-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.timeline-index-accordion[_ngcontent-%COMP%]{display:block}.timeline-index-summary[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-md);padding:10px 12px;font-size:.82em;font-weight:600;color:var(--text-secondary);cursor:pointer;margin-bottom:8px}.timeline-index-title[_ngcontent-%COMP%]{display:none}.timeline-index[_ngcontent-%COMP%]{position:static}}@media(max-width:480px){.event-timeline-container[_ngcontent-%COMP%]{padding:10px}h2[_ngcontent-%COMP%]{font-size:.95em;margin-bottom:12px}.timeline[_ngcontent-%COMP%]{padding-left:34px}.timeline[_ngcontent-%COMP%]:before{left:12px}.timeline-marker[_ngcontent-%COMP%]{left:-24px}.timeline-icon[_ngcontent-%COMP%]{width:26px;height:26px;font-size:.9em}.timeline-content[_ngcontent-%COMP%]{padding:10px}.event-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:2px}.event-type[_ngcontent-%COMP%]{font-size:.85em}.event-date[_ngcontent-%COMP%]{font-size:.72em}.event-description[_ngcontent-%COMP%]{font-size:.8em}.event-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:4px}.detail-item[_ngcontent-%COMP%], .time-item[_ngcontent-%COMP%]{font-size:.68em}.event-details-expand[_ngcontent-%COMP%] > summary[_ngcontent-%COMP%]{font-size:.7em}.port-transition[_ngcontent-%COMP%]{padding:10px}.port-transition[_ngcontent-%COMP%]:after, .milestone-tracker[_ngcontent-%COMP%]:after{display:none}.port-transition-track[_ngcontent-%COMP%], .milestone-track[_ngcontent-%COMP%]{overflow-x:visible;flex-wrap:wrap;row-gap:10px}.port-node[_ngcontent-%COMP%]{min-width:0;flex:1 1 140px;align-items:flex-start}.port-info[_ngcontent-%COMP%]{align-items:flex-start;text-align:left}.port-name[_ngcontent-%COMP%]{font-size:.72em}.port-code[_ngcontent-%COMP%]{font-size:.65em}.port-time[_ngcontent-%COMP%]{font-size:.62em}.port-connector[_ngcontent-%COMP%]{display:none}.milestone-tracker[_ngcontent-%COMP%]{padding:10px}.milestone-step[_ngcontent-%COMP%]{min-width:0;flex:1 1 120px}.milestone-dot[_ngcontent-%COMP%]{width:18px;height:18px;font-size:.6em}.milestone-label[_ngcontent-%COMP%]{font-size:.58em;max-width:70px}.milestone-connector[_ngcontent-%COMP%]{display:none}.eta-variance[_ngcontent-%COMP%]{font-size:.7em;padding:3px 6px}.undated-events[_ngcontent-%COMP%]{padding:10px}.undated-event-card[_ngcontent-%COMP%]{padding:8px 10px}}@media(max-width:375px){.event-timeline-container[_ngcontent-%COMP%]{padding:8px}h2[_ngcontent-%COMP%]{font-size:.9em;margin-bottom:10px;padding-bottom:6px}.timeline[_ngcontent-%COMP%]{padding-left:30px}.timeline[_ngcontent-%COMP%]:before{left:10px}.timeline-marker[_ngcontent-%COMP%]{left:-22px}.timeline-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:.85em}.timeline-content[_ngcontent-%COMP%]{padding:8px}.event-type[_ngcontent-%COMP%]{font-size:.82em}.event-date[_ngcontent-%COMP%]{font-size:.7em}.event-description[_ngcontent-%COMP%]{font-size:.78em}.detail-item[_ngcontent-%COMP%], .time-item[_ngcontent-%COMP%]{font-size:.66em}.event-details-expand[_ngcontent-%COMP%] > summary[_ngcontent-%COMP%]{font-size:.68em}.port-transition[_ngcontent-%COMP%]{padding:8px}.port-node[_ngcontent-%COMP%]{flex-basis:120px}.port-name[_ngcontent-%COMP%]{font-size:.7em}.port-code[_ngcontent-%COMP%]{font-size:.62em}.port-time[_ngcontent-%COMP%]{font-size:.6em}.port-connector[_ngcontent-%COMP%]{display:none}.milestone-tracker[_ngcontent-%COMP%]{padding:8px}.milestone-step[_ngcontent-%COMP%]{flex-basis:105px}.milestone-dot[_ngcontent-%COMP%]{width:16px;height:16px;font-size:.55em}.milestone-label[_ngcontent-%COMP%]{font-size:.56em;max-width:65px}.milestone-connector[_ngcontent-%COMP%]{display:none}.undated-events[_ngcontent-%COMP%]{padding:8px}.undated-event-card[_ngcontent-%COMP%]{padding:6px 8px}}.undated-events[_ngcontent-%COMP%]{margin-top:20px;padding:14px;background:var(--accent-amber-dim);border-radius:var(--radius-md);border:1px solid rgba(245,158,11,.2)}.undated-events-title[_ngcontent-%COMP%]{font-size:.9em;font-weight:600;color:var(--accent-amber);margin:0 0 4px;font-family:var(--font-display);display:inline-flex;align-items:center;gap:6px}.undated-events-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.undated-events-hint[_ngcontent-%COMP%]{font-size:.75em;color:var(--text-muted);margin:0 0 12px;font-style:italic}.undated-event-card[_ngcontent-%COMP%]{background:var(--bg-card);padding:10px 12px;border-radius:var(--radius-md);border-left:3px solid var(--accent-amber);margin-bottom:8px}.undated-event-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.undated-event-card[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.timeline-icon-inline[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;color:var(--accent-amber)}.timeline-icon-inline[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}.port-dwell[_ngcontent-%COMP%]{font-size:.68em;color:var(--text-muted);background:var(--bg-card);padding:1px 6px;border-radius:var(--radius-sm);margin-top:2px;display:inline-flex;align-items:center;gap:4px}.port-dwell-alert[_ngcontent-%COMP%]{color:var(--accent-amber);background:var(--accent-amber-dim);border:1px solid rgba(245,158,11,.3)}.eta-variance[_ngcontent-%COMP%]{font-size:.78em;padding:4px 8px;border-radius:var(--radius-sm);margin:6px 0;font-weight:500;display:inline-flex;align-items:center;gap:6px}.eta-variance-green[_ngcontent-%COMP%]{color:var(--accent-emerald);background:var(--accent-emerald-dim)}.eta-variance-amber[_ngcontent-%COMP%]{color:var(--accent-amber);background:var(--accent-amber-dim)}.eta-variance-red[_ngcontent-%COMP%]{color:var(--accent-coral);background:var(--accent-coral-dim)}.milestone-tracker[_ngcontent-%COMP%]{margin-bottom:20px;padding:14px;background:var(--bg-secondary);border-radius:var(--radius-md);border:1px solid var(--border);position:relative}@media(max-width:768px){.milestone-tracker[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:0;bottom:0;width:30px;background:linear-gradient(to right,transparent,var(--bg-secondary));pointer-events:none;border-radius:0 var(--radius-md) var(--radius-md) 0}}.milestone-tracker-title[_ngcontent-%COMP%]{font-size:.9em;font-weight:600;color:var(--text-secondary);margin:0 0 14px;font-family:var(--font-display);display:inline-flex;align-items:center;gap:6px}.milestone-tracker-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.milestone-track[_ngcontent-%COMP%]{display:flex;align-items:flex-start;overflow-x:auto;padding:8px 0;max-width:100%;-webkit-overflow-scrolling:touch;scroll-snap-type:x proximity}.milestone-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:90px;flex-shrink:0}.milestone-dot[_ngcontent-%COMP%]{width:22px;height:22px;border:2px solid var(--text-muted);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.7em;font-weight:700;color:transparent;background:var(--bg-card);z-index:1}.milestone-completed[_ngcontent-%COMP%]   .milestone-dot[_ngcontent-%COMP%]{border-color:var(--accent-emerald);background:var(--accent-emerald);color:var(--bg-card)}.milestone-origin[_ngcontent-%COMP%]   .milestone-dot[_ngcontent-%COMP%]{border-color:var(--accent-emerald)}.milestone-transit[_ngcontent-%COMP%]   .milestone-dot[_ngcontent-%COMP%]{border-color:var(--accent-amber)}.milestone-destination[_ngcontent-%COMP%]   .milestone-dot[_ngcontent-%COMP%]{border-color:var(--accent-coral)}.milestone-completed.milestone-transit[_ngcontent-%COMP%]   .milestone-dot[_ngcontent-%COMP%]{background:var(--accent-amber);border-color:var(--accent-amber)}.milestone-completed.milestone-destination[_ngcontent-%COMP%]   .milestone-dot[_ngcontent-%COMP%]{background:var(--accent-coral);border-color:var(--accent-coral)}.milestone-label[_ngcontent-%COMP%]{font-size:.65em;color:var(--text-muted);text-align:center;margin-top:6px;max-width:90px;line-height:1.3}.milestone-completed[_ngcontent-%COMP%]   .milestone-label[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.milestone-connector[_ngcontent-%COMP%]{flex:1;min-width:20px;height:2px;background:var(--border-light);margin-top:10px}.milestone-connector-completed[_ngcontent-%COMP%]{background:var(--accent-emerald)}']})};var ud=()=>[import("./chunk-EFOZYK27.js").then(n=>n.RouteMap)];function pd(n,t){n&1&&O(0,"app-route-map")}function md(n,t){n&1&&O(0,"div",4)}var Qn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-timeline-view"]],decls:10,vars:0,consts:[[1,"timeline-view"],[1,"main-grid"],[1,"main-left"],[1,"main-right"],[1,"route-map-placeholder"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),O(3,"app-event-summary"),Gr(4,pd,1,0)(5,md,1,0),Kr(6,4,ud,null,5),Yr(),u(),p(8,"div",3),O(9,"app-event-timeline"),u()()())},dependencies:[Yn,Jn],styles:[".timeline-view[_ngcontent-%COMP%]{animation:fadeSlideUp .5s ease-out .15s both}.main-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:340px 1fr;gap:16px;align-items:start}.main-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;animation:fadeSlideUp .5s ease-out .25s both}.main-right[_ngcontent-%COMP%]{animation:fadeSlideUp .5s ease-out .35s both}.route-map-placeholder[_ngcontent-%COMP%]{min-height:1px}@media(max-width:900px){.main-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:480px){.main-grid[_ngcontent-%COMP%]{gap:10px}}"]})};var Ma=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(V(Ze),V(Qe))};static \u0275dir=_e({type:n})}return n})(),hd=(()=>{class n extends Ma{static \u0275fac=(()=>{let e;return function(r){return(e||(e=bt(n)))(r||n)}})();static \u0275dir=_e({type:n,features:[Mt]})}return n})(),Sa=new j("");var fd={provide:Sa,useExisting:vi(()=>ni),multi:!0};function gd(){let n=Ne()?Ne().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var vd=new j(""),ni=(()=>{class n extends Ma{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!gd())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(V(Ze),V(Qe),V(vd,8))};static \u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&F("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[Si([fd]),Mt]})}return n})();var _d=new j(""),yd=new j("");function Ta(n){return n!=null}function wa(n){return cn(n)?se(n):n}function Oa(n){let t={};return n.forEach(e=>{t=e!=null?M(M({},t),e):t}),Object.keys(t).length===0?null:t}function Da(n,t){return t.map(e=>e(n))}function Cd(n){return!n.validate}function Pa(n){return n.map(t=>Cd(t)?t:e=>t.validate(e))}function xd(n){if(!n)return null;let t=n.filter(Ta);return t.length==0?null:function(e){return Oa(Da(e,t))}}function Ia(n){return n!=null?xd(Pa(n)):null}function bd(n){if(!n)return null;let t=n.filter(Ta);return t.length==0?null:function(e){let i=Da(e,t).map(wa);return Sr(i).pipe(J(Oa))}}function Aa(n){return n!=null?bd(Pa(n)):null}function va(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ed(n){return n._rawValidators}function Md(n){return n._rawAsyncValidators}function ur(n){return n?Array.isArray(n)?n:[n]:[]}function Xn(n,t){return Array.isArray(n)?n.includes(t):n===t}function _a(n,t){let e=ur(t);return ur(n).forEach(r=>{Xn(e,r)||e.push(r)}),e}function ya(n,t){return ur(t).filter(e=>!Xn(n,e))}var ei=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ia(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Aa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control?.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},pr=class extends ei{name;get formDirective(){return null}get path(){return null}},Qt=class extends ei{_parent=null;name=null;valueAccessor=null},mr=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Ra=(()=>{class n extends mr{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(V(Qt,2))};static \u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&re("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Mt]})}return n})();var Wt="VALID",Zn="INVALID",vt="PENDING",Kt="DISABLED",Ke=class{},ti=class extends Ke{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Yt=class extends Ke{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Jt=class extends Ke{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},_t=class extends Ke{status;source;constructor(t,e){super(),this.status=t,this.source=e}};var hr=class extends Ke{source;constructor(t){super(),this.source=t}};function Sd(n){return(ii(n)?n.validators:n)||null}function Td(n){return Array.isArray(n)?Ia(n):n||null}function wd(n,t){return(ii(t)?t.asyncValidators:n)||null}function Od(n){return Array.isArray(n)?Aa(n):n||null}function ii(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var fr=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Q(this.statusReactive)}set status(t){Q(()=>this.statusReactive.set(t))}_status=D(()=>this.statusReactive());statusReactive=N(void 0);get valid(){return this.status===Wt}get invalid(){return this.status===Zn}get pending(){return this.status==vt}get disabled(){return this.status===Kt}get enabled(){return this.status!==Kt}errors;get pristine(){return Q(this.pristineReactive)}set pristine(t){Q(()=>this.pristineReactive.set(t))}_pristine=D(()=>this.pristineReactive());pristineReactive=N(!0);get dirty(){return!this.pristine}get touched(){return Q(this.touchedReactive)}set touched(t){Q(()=>this.touchedReactive.set(t))}_touched=D(()=>this.touchedReactive());touchedReactive=N(!1);get untouched(){return!this.touched}_events=new Se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(_a(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_a(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ya(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ya(t,this._rawAsyncValidators))}hasValidator(t){return Xn(this._rawValidators,t)}hasAsyncValidator(t){return Xn(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;t.onlySelf||this._parent?.markAsTouched(H(M({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Jt(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),t.onlySelf||this._parent?._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Jt(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;t.onlySelf||this._parent?.markAsDirty(H(M({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Yt(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),t.onlySelf||this._parent?._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Yt(!0,i))}markAsPending(t={}){this.status=vt;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new _t(this.status,e)),this.statusChanges.emit(this.status)),t.onlySelf||this._parent?.markAsPending(H(M({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Kt,this.errors=null,this._forEachChild(r=>{r.disable(H(M({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ti(this.value,i)),this._events.next(new _t(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Wt,this._forEachChild(i=>{i.enable(H(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(H(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){t.onlySelf||(this._parent?.updateValueAndValidity(t),t.skipPristineCheck||this._parent?._updatePristine({},e),this._parent?._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wt||this.status===vt)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ti(this.value,e)),this._events.next(new _t(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),t.onlySelf||this._parent?.updateValueAndValidity(H(M({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kt:Wt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=vt,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=wa(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i?.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new _t(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ee,this.statusChanges=new ee}_calculateStatus(){return this._allControlsDisabled()?Kt:this.errors?Zn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vt)?vt:this._anyControlsHaveStatus(Zn)?Zn:Wt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,t.onlySelf||this._parent?._updatePristine(t,e),r&&this._events.next(new Yt(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Jt(this.touched,e)),t.onlySelf||this._parent?._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ii(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!!this._parent?.dirty&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Td(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Od(this._rawAsyncValidators)}};var Na=new j("",{factory:()=>gr}),gr="always";function Dd(n,t){return[...t.path,n]}function Pd(n,t,e=gr){Ad(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Rd(n,t),Ld(n,t),Nd(n,t),Id(n,t)}function Ca(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Id(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Ad(n,t){let e=Ed(n);t.validator!==null?n.setValidators(va(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Md(n);t.asyncValidator!==null?n.setAsyncValidators(va(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Ca(t._rawValidators,r),Ca(t._rawAsyncValidators,r)}function Rd(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&La(n,t)})}function Nd(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&La(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function La(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ld(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Vd(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function kd(n){return Object.getPrototypeOf(n.constructor)===hd}function Fd(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===ni?e=o:kd(o)?i=o:r=o}),r||i||e||null}function xa(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function ba(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ud=class extends fr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(Sd(e),wd(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ii(e)&&(e.nonNullable||e.initialValueIsDefault)&&(ba(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new hr(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xa(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xa(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ba(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var jd={provide:Qt,useExisting:vi(()=>vr)},Ea=Promise.resolve(),vr=(()=>{class n extends Qt{_changeDetectorRef;callSetDisabledState;control=new Ud;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ee;constructor(e,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Fd(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Vd(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective?.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ea.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&nt(i);Ea.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Dd(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(V(pr,9),V(_d,10),V(yd,10),V(Sa,10),V(tt,8),V(Na,8))};static \u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Si([jd]),Mt,He]})}return n})();var Hd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Xe({type:n});static \u0275inj=Je({})}return n})();var yt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Na,useValue:e.callSetDisabledState??gr}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Xe({type:n});static \u0275inj=Je({imports:[Hd]})}return n})();var ri=class n{eventData=b(Ee);i18n=b(Z);polVdThresholdHours=N(24);podVaThresholdHours=N(24);alerts=D(()=>{let t=this.eventData.primaryEvent(),e=this.eventData.secondaryEvent();if(!t||!e)return[];let i=[];return this.detectInfoAlerts(t,e,i),this.detectWarningAlerts(t,e,i),i});infoAlerts=D(()=>this.alerts().filter(t=>t.level==="info"));warningAlerts=D(()=>this.alerts().filter(t=>t.level==="warning"));detectInfoAlerts(t,e,i){let r=["IG","OG","VD"],o=["VA","IG","OG"],a=t.transportEvents??[],s=t.events??[],c=e.transportEvents??[],m=e.events??[];for(let f of r)if(this.hasActualEventAtLocation(c,m,f,"POL")&&!this.hasActualEventAtLocation(a,s,f,"POL")){let y=this.getActualEventDetails(c,m,f,"POL");i.push({level:"info",message:this.i18n.t("alerts.info.actualEventAtPol",{event:this.i18n.getEventCodeLabel(f),details:this.formatAlertDetails(y)}),category:"POL"})}for(let f of o)if(this.hasActualEventAtLocation(c,m,f,"POD")&&!this.hasActualEventAtLocation(a,s,f,"POD")){let y=this.getActualEventDetails(c,m,f,"POD");i.push({level:"info",message:this.i18n.t("alerts.info.actualEventAtPod",{event:this.i18n.getEventCodeLabel(f),details:this.formatAlertDetails(y)}),category:"POD"})}}detectWarningAlerts(t,e,i){let r=t.transportEvents??[],o=e.transportEvents??[],a=t.events??[],s=e.events??[];if(!this.hasActualEventAtLocation(o,s,"VD","POL")){let f=this.getEstimatedTimeChangeDetails(r,o,a,s,"VD","POL");f&&Math.abs(f.diffHours)>=this.polVdThresholdHours()&&i.push({level:"warning",message:this.i18n.t("alerts.warning.estimatedVdChangeAtPol",{previous:this.formatDateTime(f.primaryTime),current:this.formatDateTime(f.secondaryTime),difference:this.formatHourDelta(f.diffHours)}),category:"POL"})}if(!this.hasActualEventAtLocation(o,s,"VA","POD")){let f=this.getEstimatedTimeChangeDetails(r,o,a,s,"VA","POD");f&&Math.abs(f.diffHours)>=this.podVaThresholdHours()&&i.push({level:"warning",message:this.i18n.t("alerts.warning.estimatedVaChangeAtPod",{previous:this.formatDateTime(f.primaryTime),current:this.formatDateTime(f.secondaryTime),difference:this.formatHourDelta(f.diffHours)}),category:"POD"})}let c=this.getTransitionPorts(r,a),m=this.getTransitionPorts(o,s);c.size!==m.size&&i.push({level:"warning",message:this.i18n.t("alerts.warning.transitionPortsChanged",{primary:c.size,secondary:m.size}),category:"route"})}hasActualEventAtLocation(t,e,i,r){return t.some(a=>a.eventCode===i&&a.locationType===r&&a.timeType==="A")?!0:e.some(a=>a.eventCode===i&&a.locationType===r&&a.timeType==="A")}getActualEventDetails(t,e,i,r){let o=t.find(s=>s.eventCode===i&&s.locationType===r&&s.timeType==="A");if(o)return this.buildAlertDetails(this.formatDateTime(o.eventTime),this.formatLocation(o.location),this.shouldIncludeConveyance(i)?this.formatConveyance(o.conveyanceInfo?.conveyanceName,o.conveyanceInfo?.conveyanceNumber):void 0);let a=e.find(s=>s.eventCode===i&&s.locationType===r&&s.timeType==="A");return a?this.buildAlertDetails(this.formatDateTime(a.eventDateTime),this.formatEquipmentLocation(a),this.shouldIncludeConveyance(i)?this.formatConveyance(a.vessel,a.voyage):void 0):null}formatAlertDetails(t){if(!t)return"";let e=[t.time?this.i18n.t("alerts.detail.time",{time:t.time}):null,t.location?this.i18n.t("alerts.detail.location",{location:t.location}):null,t.conveyance?this.i18n.t("alerts.detail.conveyance",{conveyance:t.conveyance}):null].filter(i=>!!i);return e.length===0?"":` (${e.join(" \u2022 ")})`}buildAlertDetails(t,e,i){return{time:t,location:e,conveyance:i}}shouldIncludeConveyance(t){return t==="VD"||t==="VA"}formatEquipmentLocation(t){let e=this.formatLocation({facilityName:t.facilityName,unLocationName:t.unLocationName,unLocationCode:t.unLocationCode});return e.length>0?e:t.location}formatLocation(t){if(!t)return"";let e=[];return t.facilityName&&e.push(t.facilityName),t.unLocationName?t.unLocationCode?e.push(`${t.unLocationName} (${t.unLocationCode})`):e.push(t.unLocationName):t.unLocationCode&&e.push(t.unLocationCode),e.join(", ")}formatConveyance(t,e){if(!(!t&&!e))return t&&e?`${t} (${e})`:t??e}formatDateTime(t){if(!t)return"";if(t instanceof Date)return isNaN(t.getTime())?"":t.toLocaleString(this.i18n.localeTag());let e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleString(this.i18n.localeTag())}getEstimatedTimeChangeDetails(t,e,i,r,o,a){let s=this.findEstimatedTime(t,i,o,a),c=this.findEstimatedTime(e,r,o,a);return!s||!c?null:{diffHours:(c.getTime()-s.getTime())/(1e3*60*60),primaryTime:s,secondaryTime:c}}findEstimatedTime(t,e,i,r){let o=t.find(s=>s.eventCode===i&&s.locationType===r&&s.timeType==="E");if(o)return new Date(o.eventTime);let a=e.find(s=>s.eventCode===i&&s.locationType===r);return a?.estimatedTime?new Date(a.estimatedTime):null}getTransitionPorts(t,e){let i=new Set;for(let r of t)r.locationType==="POT"&&r.location?.unLocationCode&&i.add(r.location.unLocationCode);for(let r of e)r.locationType==="POT"&&r.unLocationCode&&i.add(r.unLocationCode);return i}formatHours(t){return t.toFixed(1)}formatHourDelta(t){return`${t>=0?"+":"-"}${this.formatHours(Math.abs(t))} ${this.i18n.t("alerts.units.hoursShort")}`}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var ka=(n,t)=>t.message,Va=(n,t)=>t.eventDateTime;function $d(n,t){if(n&1&&(E(0,"span",5),d(1),x()),n&2){let e=h(2);l(),g(e.alertBadgeCount())}}function Bd(n,t){if(n&1&&(E(0,"span",7),d(1),x()),n&2){let e=h(2);l(),g(e.differences().length)}}function Gd(n,t){if(n&1&&(E(0,"div",19)(1,"p"),ne(2,"span",20),d(3),x()()),n&2){let e=h(3);l(3),C(" ",e.i18n.t("alerts.noAlerts")," ")}}function qd(n,t){if(n&1&&(E(0,"li",26)(1,"span",27),ne(2,"span",24),x(),E(3,"span",28),d(4),x(),E(5,"span",29),d(6),x()()),n&2){let e=t.$implicit;l(4),g(e.category),l(2),g(e.message)}}function Wd(n,t){if(n&1&&(E(0,"div",21)(1,"h4",23),ne(2,"span",24),d(3),x(),E(4,"ul",25),q(5,qd,7,2,"li",26,ka),x()()),n&2){let e=h(4);l(3),C(" ",e.i18n.t("alerts.warningSection")," "),l(2),W(e.alertService.warningAlerts())}}function Kd(n,t){if(n&1&&(E(0,"li",32)(1,"span",27),ne(2,"span",31),x(),E(3,"span",28),d(4),x(),E(5,"span",29),d(6),x()()),n&2){let e=t.$implicit;l(4),g(e.category),l(2),g(e.message)}}function Yd(n,t){if(n&1&&(E(0,"div",22)(1,"h4",30),ne(2,"span",31),d(3),x(),E(4,"ul",25),q(5,Kd,7,2,"li",32,ka),x()()),n&2){let e=h(4);l(3),C(" ",e.i18n.t("alerts.infoSection")," "),l(2),W(e.alertService.infoAlerts())}}function Jd(n,t){if(n&1&&(v(0,Wd,7,1,"div",21),v(1,Yd,7,1,"div",22)),n&2){let e=h(3);_(e.alertService.warningAlerts().length>0?0:-1),l(),_(e.alertService.infoAlerts().length>0?1:-1)}}function Qd(n,t){if(n&1){let e=ie();E(0,"div",10)(1,"div",13)(2,"span",14),ne(3,"span",15),d(4),x(),E(5,"div",16)(6,"label",17),d(7),E(8,"input",18),ye("change",function(r){z(e);let o=h(2);return $(o.onPolThresholdChange(r.target.value))}),x()(),E(9,"label",17),d(10),E(11,"input",18),ye("change",function(r){z(e);let o=h(2);return $(o.onPodThresholdChange(r.target.value))}),x()()()(),v(12,Gd,4,1,"div",19)(13,Jd,2,2),x()}if(n&2){let e=h(2);l(4),C(" ",e.i18n.t("alerts.config.title")," "),l(3),C(" ",e.i18n.t("alerts.config.polVdHours")," "),l(),Ei("value",e.alertService.polVdThresholdHours()),l(2),C(" ",e.i18n.t("alerts.config.podVaHours")," "),l(),Ei("value",e.alertService.podVaThresholdHours()),l(),_(e.alertService.alerts().length===0?12:13)}}function Zd(n,t){if(n&1&&(E(0,"li"),d(1),x()),n&2){let e=t.$implicit;l(),g(e)}}function Xd(n,t){if(n&1&&(E(0,"div",33)(1,"h3"),d(2),x(),E(3,"ul",35),q(4,Zd,2,1,"li",null,et),x()()),n&2){let e=h(3);l(2),g(e.i18n.t("comparison.keyDifferences")),l(2),W(e.differences())}}function eu(n,t){if(n&1&&(E(0,"div",34)(1,"p"),ne(2,"span",20),d(3),x()()),n&2){let e=h(3);l(3),C(" ",e.i18n.t("comparison.noDifferences")," ")}}function tu(n,t){if(n&1&&(E(0,"div",11),v(1,Xd,6,1,"div",33)(2,eu,4,1,"div",34),x()),n&2){let e=h(2);l(),_(e.differences().length>0?1:2)}}function nu(n,t){if(n&1&&(E(0,"div",40)(1,"strong"),d(2),x(),d(3),x()),n&2){let e,i=h(3);l(2),g(i.i18n.t("comparison.label.shipmentId")),l(),C(" ",(e=i.primaryEvent())==null?null:e.shipmentId," ")}}function iu(n,t){if(n&1&&(E(0,"div",40)(1,"strong"),d(2),x(),d(3),x()),n&2){let e,i=h(3);l(2),g(i.i18n.t("comparison.label.origin")),l(),C(" ",(e=i.primaryEvent())==null?null:e.origin," ")}}function ru(n,t){if(n&1&&(E(0,"div",40)(1,"strong"),d(2),x(),d(3),x()),n&2){let e,i=h(3);l(2),g(i.i18n.t("comparison.label.destination")),l(),C(" ",(e=i.primaryEvent())==null?null:e.destination," ")}}function ou(n,t){if(n&1&&(E(0,"div",46),ne(1,"span",47),d(2),x()),n&2){let e=h().$implicit;l(2),C(" ",e.location," ")}}function au(n,t){if(n&1&&(E(0,"div",42)(1,"div",44),d(2),x(),E(3,"div",45),d(4),oe(5,"date"),x(),v(6,ou,3,1,"div",46),x()),n&2){let e=t.$implicit;l(2),g(e.eventType),l(2),C(" ",ae(5,3,e.eventDateTime,"short")," "),l(2),_(e.location?6:-1)}}function su(n,t){if(n&1&&(E(0,"div",40)(1,"strong"),d(2),x(),d(3),x()),n&2){let e,i=h(3);l(2),g(i.i18n.t("comparison.label.shipmentId")),l(),C(" ",(e=i.secondaryEvent())==null?null:e.shipmentId," ")}}function lu(n,t){if(n&1&&(E(0,"div",40)(1,"strong"),d(2),x(),d(3),x()),n&2){let e,i=h(3);l(2),g(i.i18n.t("comparison.label.origin")),l(),C(" ",(e=i.secondaryEvent())==null?null:e.origin," ")}}function cu(n,t){if(n&1&&(E(0,"div",40)(1,"strong"),d(2),x(),d(3),x()),n&2){let e,i=h(3);l(2),g(i.i18n.t("comparison.label.destination")),l(),C(" ",(e=i.secondaryEvent())==null?null:e.destination," ")}}function du(n,t){if(n&1&&(E(0,"div",46),ne(1,"span",47),d(2),x()),n&2){let e=h().$implicit;l(2),C(" ",e.location," ")}}function uu(n,t){if(n&1&&(E(0,"div",42)(1,"div",44),d(2),x(),E(3,"div",45),d(4),oe(5,"date"),x(),v(6,du,3,1,"div",46),x()),n&2){let e=t.$implicit;l(2),g(e.eventType),l(2),C(" ",ae(5,3,e.eventDateTime,"short")," "),l(2),_(e.location?6:-1)}}function pu(n,t){if(n&1&&(E(0,"div",12)(1,"div",36)(2,"div",37)(3,"h3",38),d(4),x(),E(5,"div",39),v(6,nu,4,2,"div",40),v(7,iu,4,2,"div",40),v(8,ru,4,2,"div",40),E(9,"div",40)(10,"strong"),d(11),x(),d(12),x()(),E(13,"div",41),q(14,au,7,6,"div",42,Va),x()(),E(16,"div",37)(17,"h3",43),d(18),x(),E(19,"div",39),v(20,su,4,2,"div",40),v(21,lu,4,2,"div",40),v(22,cu,4,2,"div",40),E(23,"div",40)(24,"strong"),d(25),x(),d(26),x()(),E(27,"div",41),q(28,uu,7,6,"div",42,Va),x()()()()),n&2){let e,i,r,o,a,s,c=h(2);l(4),C(" ",c.i18n.t("comparison.primaryHeader")," "),l(2),_((e=c.primaryEvent())!=null&&e.shipmentId?6:-1),l(),_((i=c.primaryEvent())!=null&&i.origin?7:-1),l(),_((r=c.primaryEvent())!=null&&r.destination?8:-1),l(3),g(c.i18n.t("comparison.label.totalEvents")),l(),C(" ",c.primarySortedEvents().length," "),l(2),W(c.primarySortedEvents()),l(4),C(" ",c.i18n.t("comparison.secondaryHeader")," "),l(2),_((o=c.secondaryEvent())!=null&&o.shipmentId?20:-1),l(),_((a=c.secondaryEvent())!=null&&a.origin?21:-1),l(),_((s=c.secondaryEvent())!=null&&s.destination?22:-1),l(3),g(c.i18n.t("comparison.label.totalEvents")),l(),C(" ",c.secondarySortedEvents().length," "),l(2),W(c.secondarySortedEvents())}}function mu(n,t){if(n&1){let e=ie();E(0,"h2"),d(1),x(),E(2,"nav",2)(3,"button",3),ye("click",function(){z(e);let r=h();return $(r.setActiveTab("alerts"))}),ne(4,"span",4),d(5),v(6,$d,2,1,"span",5),x(),E(7,"button",3),ye("click",function(){z(e);let r=h();return $(r.setActiveTab("differences"))}),ne(8,"span",6),d(9),v(10,Bd,2,1,"span",7),x(),E(11,"button",3),ye("click",function(){z(e);let r=h();return $(r.setActiveTab("details"))}),ne(12,"span",8),d(13),x()(),E(14,"div",9),v(15,Qd,14,6,"div",10),v(16,tu,3,1,"div",11),v(17,pu,30,12,"div",12),x()}if(n&2){let e=h();l(),g(e.i18n.t("comparison.title")),l(2),re("active",e.activeTab()==="alerts"),G("aria-selected",e.activeTab()==="alerts"),l(2),C(" ",e.i18n.t("alerts.tabAlerts")," "),l(),_(e.alertBadgeCount()>0?6:-1),l(),re("active",e.activeTab()==="differences"),G("aria-selected",e.activeTab()==="differences"),l(2),C(" ",e.i18n.t("alerts.tabDifferences")," "),l(),_(e.differences().length>0?10:-1),l(),re("active",e.activeTab()==="details"),G("aria-selected",e.activeTab()==="details"),l(2),C(" ",e.i18n.t("alerts.tabDetails")," "),l(2),_(e.activeTab()==="alerts"?15:-1),l(),_(e.activeTab()==="differences"?16:-1),l(),_(e.activeTab()==="details"?17:-1)}}function hu(n,t){if(n&1&&(E(0,"div",1)(1,"p"),ne(2,"span",48),d(3),x()()),n&2){let e=h();l(3),C(" ",e.i18n.t("comparison.noComparison")," ")}}var oi=class n{eventDataService=b(Ee);i18n=b(Z);alertService=b(ri);activeTab=N("alerts");primaryEvent=this.eventDataService.primaryEvent;secondaryEvent=this.eventDataService.secondaryEvent;hasComparison=D(()=>this.primaryEvent()!==null&&this.secondaryEvent()!==null);primarySortedEvents=D(()=>{let t=this.primaryEvent()?.events;return t?[...t].sort((e,i)=>new Date(e.eventDateTime).getTime()-new Date(i.eventDateTime).getTime()):[]});secondarySortedEvents=D(()=>{let t=this.secondaryEvent()?.events;return t?[...t].sort((e,i)=>new Date(e.eventDateTime).getTime()-new Date(i.eventDateTime).getTime()):[]});differences=D(()=>{let t=this.primaryEvent(),e=this.secondaryEvent();if(!t||!e)return[];let i=[];this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("comparison.label.shipmentId")),t.shipmentId,e.shipmentId),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("summary.label.blNumber")),t.blNo,e.blNo),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("summary.label.bookingNumber")),t.bookingNumber,e.bookingNumber),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("summary.label.containerNumber")),t.containerNumber,e.containerNumber),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("comparison.label.containerSize")),t.containerSize,e.containerSize),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("comparison.label.containerType")),t.containerType,e.containerType),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("summary.label.containerIsoCode")),t.containerISOCode,e.containerISOCode),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("comparison.label.containerWeight")),t.containerWeight,e.containerWeight),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("summary.label.shipmentType")),t.shipmentType,e.shipmentType),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("summary.label.shippingLine")),t.carrier,e.carrier),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("comparison.label.origin")),t.origin,e.origin),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("comparison.label.destination")),t.destination,e.destination),this.addFieldDifference(i,this.normalizeLabel(this.i18n.t("summary.label.source")),t.source,e.source);let r=t.events?.length||0,o=e.events?.length||0;r!==o&&i.push(this.i18n.t("comparison.eventCount",{primary:r,secondary:o}));let a=this.buildEventMap(t.events||[]),s=this.buildEventMap(e.events||[]);for(let[c,m]of a.entries()){let f=s.get(c);if(!f){m.forEach((T,S)=>{i.push(this.i18n.t("comparison.eventMissingSecondary",{label:this.formatEventLabel(T,m.length>1?S+1:void 0)}))});continue}let y=Math.max(m.length,f.length);for(let T=0;T<y;T++){let S=m[T],te=f[T];if(!S){i.push(this.i18n.t("comparison.eventMissingPrimary",{label:this.formatEventLabel(te,f.length>1?T+1:void 0)}));continue}if(!te){i.push(this.i18n.t("comparison.eventMissingSecondary",{label:this.formatEventLabel(S,m.length>1?T+1:void 0)}));continue}let P=this.formatEventLabel(S,m.length>1||f.length>1?T+1:void 0);i.push(...this.compareEventTimes(P,S,te))}}for(let[c,m]of s.entries())a.has(c)||m.forEach((f,y)=>{i.push(this.i18n.t("comparison.eventMissingPrimary",{label:this.formatEventLabel(f,m.length>1?y+1:void 0)}))});return i});alertBadgeCount=D(()=>this.alertService.warningAlerts().length);setActiveTab(t){this.activeTab.set(t)}onPolThresholdChange(t){let e=parseInt(t,10);!isNaN(e)&&e>0&&this.alertService.polVdThresholdHours.set(e)}onPodThresholdChange(t){let e=parseInt(t,10);!isNaN(e)&&e>0&&this.alertService.podVaThresholdHours.set(e)}addFieldDifference(t,e,i,r){i!==r&&t.push(this.i18n.t("comparison.fieldDifference",{label:e,primary:this.formatValue(i),secondary:this.formatValue(r)}))}formatValue(t){return t==null||t===""?"\u2014":t}formatDateTime(t){return t?new Date(t).toLocaleString(this.i18n.localeTag()):"\u2014"}buildEventMap(t){let e=new Map;for(let i of t){let r=this.getEventKey(i),o=e.get(r)??[];o.push(i),e.set(r,o)}for(let i of e.values())i.sort((r,o)=>new Date(r.eventDateTime).getTime()-new Date(o.eventDateTime).getTime());return e}getEventKey(t){let e=t.unLocationCode||t.location||"",i=t.eventCode||t.eventType||this.i18n.t("comparison.unknownEvent"),r=t.locationType||"";return[i,r,e].filter(Boolean).join("|")}formatEventLabel(t,e){let i=t.eventCode?this.i18n.getEventCodeLabel(t.eventCode):t.eventType||this.i18n.t("comparison.unknownEvent"),r=t.locationType?this.i18n.getLocationTypeLabel(t.locationType):"",o=t.unLocationCode||"",a=[r,i].filter(Boolean).join(" "),s=o?`${a} (${o})`:a;return e?`${s} #${e}`:s}compareEventTimes(t,e,i){let r=[],o=[{name:this.i18n.t("time.actual"),primary:e.actualTime,secondary:i.actualTime},{name:this.i18n.t("time.estimated"),primary:e.estimatedTime,secondary:i.estimatedTime},{name:this.i18n.t("time.planned"),primary:e.plannedTime,secondary:i.plannedTime}],a=o.some(s=>s.primary!==void 0||s.secondary!==void 0);for(let s of o)s.primary!==s.secondary&&r.push(this.i18n.t("comparison.eventTimeDiff",{label:t,timeLabel:s.name,primary:this.formatDateTime(s.primary),secondary:this.formatDateTime(s.secondary)}));return!a&&e.eventDateTime!==i.eventDateTime&&r.push(this.i18n.t("comparison.eventTimeDiffFallback",{label:t,primary:this.formatDateTime(e.eventDateTime),secondary:this.formatDateTime(i.eventDateTime)})),r}normalizeLabel(t){return t.replace(/[:]\s*$/,"")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-event-comparison"]],decls:3,vars:1,consts:[[1,"event-comparison-container"],["role","status","aria-live","polite",1,"no-comparison"],["role","tablist",1,"tab-bar"],["role","tab",1,"tab-btn","icon-hover",3,"click"],["aria-hidden","true",1,"icon","icon-bell"],[1,"tab-badge","warning"],["aria-hidden","true",1,"icon","icon-search"],[1,"tab-badge","amber"],["aria-hidden","true",1,"icon","icon-clipboard"],[1,"tab-content"],["role","tabpanel",1,"alerts-panel"],["role","tabpanel",1,"differences-panel"],["role","tabpanel",1,"details-panel"],[1,"alert-config"],[1,"config-title"],["aria-hidden","true",1,"icon","icon-gear"],[1,"config-fields"],[1,"config-label"],["type","number","min","1",1,"config-input",3,"change","value"],[1,"no-alerts"],["aria-hidden","true",1,"icon","icon-check"],[1,"alert-section","warning-section"],[1,"alert-section","info-section"],[1,"alert-section-title","warning-title"],["aria-hidden","true",1,"icon","icon-alert"],[1,"alert-list"],[1,"alert-item","warning-item"],[1,"alert-icon"],[1,"alert-category"],[1,"alert-message"],[1,"alert-section-title","info-title"],["aria-hidden","true",1,"icon","icon-info"],[1,"alert-item","info-item"],[1,"differences-section"],[1,"no-differences"],[1,"differences-list"],[1,"comparison-grid"],[1,"comparison-column"],[1,"column-header","primary"],[1,"shipment-info"],[1,"info-item"],[1,"events-list"],[1,"event-card"],[1,"column-header","secondary"],[1,"event-type"],[1,"event-date"],[1,"event-location"],["aria-hidden","true",1,"icon","icon-pin"],["aria-hidden","true",1,"icon","icon-hourglass"]],template:function(e,i){e&1&&(E(0,"div",0),v(1,mu,18,18)(2,hu,4,1,"div",1),x()),e&2&&(l(),_(i.hasComparison()?1:2))},dependencies:[ce,yt,it],styles:[".event-comparison-container[_ngcontent-%COMP%]{margin-top:16px;padding:14px;background:var(--bg-card);border-radius:var(--radius-lg);border:1px solid var(--border);box-shadow:var(--shadow-md);animation:fadeSlideUp .5s ease-out .45s both}h2[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 12px;border-bottom:2px solid var(--accent-cyan);padding-bottom:8px;font-size:1.05em;font-family:var(--font-display)}h3[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:15px;font-family:var(--font-display)}.tab-bar[_ngcontent-%COMP%]{display:flex;gap:4px;border-bottom:1px solid var(--border);margin-bottom:0;padding-bottom:0}.tab-btn[_ngcontent-%COMP%]{padding:10px 18px;background:transparent;border:1px solid transparent;border-bottom:2px solid transparent;border-radius:var(--radius-sm) var(--radius-sm) 0 0;color:var(--text-muted);font-family:var(--font-body);font-size:.88em;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:6px;position:relative;bottom:-1px}.tab-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.tab-btn[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:var(--bg-surface)}.tab-btn.active[_ngcontent-%COMP%]{color:var(--accent-cyan);border-color:var(--border);border-bottom-color:var(--bg-card);background:var(--bg-card)}.tab-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 5px;border-radius:9px;font-size:.72em;font-weight:700;font-family:var(--font-mono);line-height:1}.tab-badge.warning[_ngcontent-%COMP%], .tab-badge.amber[_ngcontent-%COMP%]{background:var(--accent-amber-dim);color:var(--accent-amber);border:1px solid rgba(245,158,11,.3)}.tab-content[_ngcontent-%COMP%]{padding-top:16px}.alerts-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease-out}.alert-config[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:10px 14px;background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-sm);margin-bottom:16px;flex-wrap:wrap}.config-title[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.82em;font-weight:500;white-space:nowrap;display:inline-flex;align-items:center;gap:6px}.config-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.config-fields[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.config-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:var(--text-secondary);font-size:.8em;white-space:nowrap}.config-input[_ngcontent-%COMP%]{width:60px;padding:4px 6px;background:var(--bg-input);color:var(--text-primary);border:1px solid var(--border-light);border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:.88em;text-align:center}.config-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--border-focus);box-shadow:0 0 0 2px var(--accent-cyan-dim)}.no-alerts[_ngcontent-%COMP%]{background:var(--accent-emerald-dim);border:1px solid rgba(52,211,153,.3);border-radius:var(--radius-sm);padding:20px;text-align:center}.no-alerts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--accent-emerald);font-size:1em;margin:0;display:inline-flex;align-items:center;gap:6px}.no-alerts[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}.alert-section[_ngcontent-%COMP%]{border-radius:var(--radius-sm);padding:14px;margin-bottom:12px}.warning-section[_ngcontent-%COMP%]{background:var(--accent-amber-dim);border:1px solid rgba(245,158,11,.25)}.info-section[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);border:1px solid rgba(34,211,238,.25)}.alert-section-title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.88em;font-family:var(--font-display);font-weight:600;display:inline-flex;align-items:center;gap:6px}.alert-section-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.warning-title[_ngcontent-%COMP%]{color:var(--accent-amber)}.info-title[_ngcontent-%COMP%]{color:var(--accent-cyan)}.alert-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.alert-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:8px 10px;border-radius:var(--radius-sm);margin-bottom:6px;font-size:.88em;line-height:1.5;transition:background .15s ease}.alert-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.warning-item[_ngcontent-%COMP%]{background:#f59e0b0f}.warning-item[_ngcontent-%COMP%]:hover{background:#f59e0b1f}.info-item[_ngcontent-%COMP%]{background:#22d3ee0f}.info-item[_ngcontent-%COMP%]:hover{background:#22d3ee1f}.alert-icon[_ngcontent-%COMP%]{flex-shrink:0;display:inline-flex;align-items:center;justify-content:center;line-height:1.5}.alert-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.alert-category[_ngcontent-%COMP%]{flex-shrink:0;padding:1px 6px;border-radius:3px;font-size:.72em;font-weight:600;font-family:var(--font-mono);text-transform:uppercase;letter-spacing:.04em}.warning-item[_ngcontent-%COMP%]   .alert-category[_ngcontent-%COMP%]{background:#f59e0b26;color:var(--accent-amber);border:1px solid rgba(245,158,11,.3)}.info-item[_ngcontent-%COMP%]   .alert-category[_ngcontent-%COMP%]{background:#22d3ee26;color:var(--accent-cyan);border:1px solid rgba(34,211,238,.3)}.alert-message[_ngcontent-%COMP%]{color:var(--text-primary);flex:1}.differences-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease-out}.differences-section[_ngcontent-%COMP%]{background:var(--accent-amber-dim);border:1px solid rgba(245,158,11,.3);border-radius:var(--radius-sm);padding:20px}.differences-list[_ngcontent-%COMP%]{margin:10px 0 0 20px;color:var(--accent-amber)}.differences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0}.no-differences[_ngcontent-%COMP%]{background:var(--accent-emerald-dim);border:1px solid rgba(52,211,153,.3);border-radius:var(--radius-sm);padding:20px;text-align:center}.no-differences[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--accent-emerald);font-size:1.1em;margin:0;display:inline-flex;align-items:center;gap:6px}.no-differences[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}.details-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease-out}.comparison-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}.comparison-column[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:var(--radius-md);overflow:hidden}.column-header[_ngcontent-%COMP%]{padding:15px;color:var(--text-inverse);margin:0;font-family:var(--font-display)}.column-header.primary[_ngcontent-%COMP%]{background:var(--accent-cyan)}.column-header.secondary[_ngcontent-%COMP%]{background:var(--accent-emerald)}.shipment-info[_ngcontent-%COMP%]{padding:20px;background:var(--bg-secondary);border-bottom:1px solid var(--border)}.info-item[_ngcontent-%COMP%]{margin:8px 0;color:var(--text-secondary)}.events-list[_ngcontent-%COMP%]{padding:20px;max-height:500px;overflow-y:auto}.event-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border-left:4px solid var(--accent-cyan);padding:15px;margin-bottom:15px;border-radius:var(--radius-sm);transition:background .2s ease}.event-card[_ngcontent-%COMP%]:hover{background:var(--bg-card-hover)}.secondary[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]{border-left-color:var(--accent-emerald)}.event-type[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary);margin-bottom:5px}.event-date[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.9em;margin-bottom:5px}.event-location[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9em;margin-top:5px;display:inline-flex;align-items:center;gap:6px}.event-location[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.no-comparison[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-muted)}.no-comparison[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;line-height:1.6;display:inline-flex;align-items:center;gap:6px}.no-comparison[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media(max-width:768px){.comparison-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.tab-bar[_ngcontent-%COMP%]{flex-wrap:wrap}.tab-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.82em}.alert-config[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.config-fields[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}"]})};var ai=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-comparison-view"]],decls:2,vars:0,consts:[[1,"comparison-view"]],template:function(e,i){e&1&&(p(0,"div",0),O(1,"app-event-comparison"),u())},dependencies:[oi],styles:[".comparison-view[_ngcontent-%COMP%]{animation:fadeSlideUp .5s ease-out .15s both}"]})};var Fa=[{path:"timeline",component:Qn},{path:"comparison",component:ai},{path:"",redirectTo:"timeline",pathMatch:"full"},{path:"**",redirectTo:"timeline"}];var Ua={providers:[Rr(),po(),dr(Fa)]};function fu(n,t){if(n&1&&(p(0,"div",5),d(1),u()),n&2){let e=h();l(),C(" ",e.formatError()," ")}}var si=class n{value="";placeholder="Paste your shipment event JSON here...";rows=6;valueChange=new ee;formatError=N("");onValueChange(t){this.value=t,this.formatError.set(""),this.valueChange.emit(t)}formatJson(){if(this.value.trim())try{let t=JSON.parse(this.value),e=JSON.stringify(t,null,2);this.value=e,this.formatError.set(""),this.valueChange.emit(e)}catch(t){let e=t instanceof Error?t.message:"invalid JSON";this.formatError.set(`Unable to format: ${e}`)}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-json-editor"]],inputs:{value:"value",placeholder:"placeholder",rows:"rows"},outputs:{valueChange:"valueChange"},decls:8,vars:5,consts:[[1,"json-editor"],[1,"editor-toolbar"],[1,"editor-hint"],["type","button",1,"format-btn",3,"click","disabled"],["spellcheck","false",1,"json-textarea",3,"ngModelChange","ngModel","placeholder","rows"],[1,"format-message"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),d(3,"Editor"),u(),p(4,"button",3),F("click",function(){return i.formatJson()}),d(5," Format JSON "),u()(),p(6,"textarea",4),F("ngModelChange",function(o){return i.onValueChange(o)}),u(),v(7,fu,2,1,"div",5),u()),e&2&&(l(4),L("disabled",!i.value.trim()),l(2),L("ngModel",i.value)("placeholder",i.placeholder)("rows",i.rows),l(),_(i.formatError()?7:-1))},dependencies:[ce,yt,ni,Ra,vr],styles:[".json-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.editor-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:.8em;color:var(--text-muted)}.editor-hint[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary)}.format-btn[_ngcontent-%COMP%]{padding:4px 12px;background:var(--accent-emerald);color:var(--text-inverse);border:none;border-radius:var(--radius-sm);cursor:pointer;font-size:.8em;font-weight:500;font-family:var(--font-body);transition:opacity .2s ease}.format-btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.85}.format-btn[_ngcontent-%COMP%]:disabled{background:var(--border-light);color:var(--text-muted);cursor:not-allowed}.json-textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid var(--border-light);border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:.85em;resize:vertical;background:var(--bg-input);color:var(--text-primary);transition:border-color .2s ease}.json-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-cyan);box-shadow:0 0 0 2px #22d3ee26}.json-textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.format-message[_ngcontent-%COMP%]{background:var(--accent-coral-dim);color:var(--accent-coral);padding:6px 10px;border-radius:var(--radius-sm);border-left:3px solid var(--accent-coral);font-size:.8em}"]})};var Ct=class n{HISTORY_STORAGE_KEY="itrackit.shipment-history";MAX_ENTRIES=15;entriesState=N(this.readEntries());entries=this.entriesState.asReadonly();addEntry(t){let e=this.extractMetadata(t),i=this.createIdentity(e),r=new Date().toISOString(),a=[{key:`${i}-${Date.now()}`,identity:i,metadata:e,rawData:t,viewedAt:r},...this.entriesState().filter(s=>s.identity!==i)].slice(0,this.MAX_ENTRIES);this.saveEntries(a),this.entriesState.set(a)}removeEntry(t){let e=this.entriesState().filter(i=>i.key!==t);this.saveEntries(e),this.entriesState.set(e)}clearHistory(){this.saveEntries([]),this.entriesState.set([])}extractMetadata(t){return this.isOpShipmentEventRaw(t)?{shipmentId:t.id,blNo:t.blNo,containerNumber:t.containerNo,pol:t.pol?.unLocationCode??t.pol?.unLocationName,pod:t.pod?.unLocationCode??t.pod?.unLocationName}:{shipmentId:t.shipmentId,blNo:t.blNo,containerNumber:t.containerNumber,pol:t.origin,pod:t.destination}}createIdentity(t){return t.shipmentId||t.blNo||t.containerNumber||"shipment"}isOpShipmentEventRaw(t){return"id"in t&&"containerNo"in t}readEntries(){return this.readEntriesFromStorage(localStorage)??this.readEntriesFromStorage(sessionStorage)??[]}readEntriesFromStorage(t){try{let e=t.getItem(this.HISTORY_STORAGE_KEY);if(!e)return null;let i=JSON.parse(e);return Array.isArray(i)?i.filter(r=>typeof r=="object"&&r!==null&&typeof r.key=="string"&&typeof r.identity=="string"&&typeof r.viewedAt=="string"&&typeof r.rawData=="object"&&r.rawData!==null):[]}catch{return null}}saveEntries(t){let e=JSON.stringify(t);this.writeEntries(localStorage,e)||this.writeEntries(sessionStorage,e)}writeEntries(t,e){try{return t.setItem(this.HISTORY_STORAGE_KEY,e),!0}catch{return!1}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var vu=(n,t)=>t.key;function _u(n,t){if(n&1&&(E(0,"p",4),d(1),x()),n&2){let e=h(2);l(),g(e.i18n.t("history.empty"))}}function yu(n,t){if(n&1){let e=ie();E(0,"article",6)(1,"h4"),d(2),x(),E(3,"p",9),d(4),x(),E(5,"p",10),d(6),x(),E(7,"div",11)(8,"button",12),ye("click",function(){let r=z(e).$implicit,o=h(3);return $(o.loadEntry(r))}),d(9),x(),E(10,"button",13),ye("click",function(){let r=z(e).$implicit,o=h(3);return $(o.removeEntry(r.key))}),d(11),x()()()}if(n&2){let e=t.$implicit,i=h(3);G("aria-label",i.getEntryTitle(e)),l(2),g(i.getEntryTitle(e)),l(2),g(i.getEntryDetails(e)),l(2),Ce("",i.i18n.t("history.viewedAt"),": ",i.formatViewedAt(e.viewedAt)),l(2),G("aria-label",i.i18n.t("history.loadAria")),l(),C(" ",i.i18n.t("history.load")," "),l(),G("aria-label",i.i18n.t("history.deleteAria")),l(),C(" ",i.i18n.t("history.delete")," ")}}function Cu(n,t){if(n&1){let e=ie();E(0,"div",5),q(1,yu,12,9,"article",6,vu),x(),E(3,"div",7)(4,"button",8),ye("click",function(){z(e);let r=h(2);return $(r.clearHistory())}),d(5),x()()}if(n&2){let e=h(2);l(),W(e.entries()),l(3),G("aria-label",e.i18n.t("history.clearAria")),l(),C(" ",e.i18n.t("history.clearAll")," ")}}function xu(n,t){if(n&1&&(E(0,"div",3),v(1,_u,2,1,"p",4)(2,Cu,6,2),x()),n&2){let e=h();G("aria-label",e.i18n.t("history.title")),l(),_(e.entries().length===0?1:2)}}var li=class n{historyService=b(Ct);i18n=b(Z);loadShipment=new ee;isExpanded=N(!1);entries=D(()=>this.historyService.entries());toggleExpanded(){this.isExpanded.set(!this.isExpanded())}loadEntry(t){this.loadShipment.emit(t.rawData)}removeEntry(t){this.historyService.removeEntry(t)}clearHistory(){this.historyService.clearHistory()}formatViewedAt(t){return new Date(t).toLocaleString(this.i18n.localeTag())}getEntryTitle(t){return t.metadata.shipmentId||t.metadata.blNo||t.metadata.containerNumber||this.i18n.t("history.unknownShipment")}getEntryDetails(t){let e=t.metadata.containerNumber?`${this.i18n.t("history.container")}: ${t.metadata.containerNumber}`:this.i18n.t("history.containerUnavailable"),i=t.metadata.pol||this.i18n.t("history.locationUnknown"),r=t.metadata.pod||this.i18n.t("history.locationUnknown");return`${e} | ${this.i18n.t("history.from")}: ${i} ${this.i18n.t("history.to")} ${r}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-shipment-history"]],outputs:{loadShipment:"loadShipment"},decls:7,vars:5,consts:[[1,"history-section"],["type","button",1,"history-toggle-btn",3,"click"],[1,"history-count"],["role","region",1,"history-content"],[1,"history-empty"],["role","list",1,"history-list"],["role","listitem","tabindex","0",1,"history-item"],[1,"history-footer"],["type","button",1,"history-clear-btn",3,"click"],[1,"history-meta"],[1,"history-time"],[1,"history-actions"],["type","button",1,"history-load-btn",3,"click"],["type","button",1,"history-delete-btn",3,"click"]],template:function(e,i){e&1&&(E(0,"section",0)(1,"button",1),ye("click",function(){return i.toggleExpanded()}),E(2,"span"),d(3),x(),E(4,"span",2),d(5),x()(),v(6,xu,3,2,"div",3),x()),e&2&&(l(),G("aria-expanded",i.isExpanded())("aria-label",i.i18n.t("history.toggleAria")),l(2),g(i.i18n.t("history.title")),l(2),C("(",i.entries().length,")"),l(),_(i.isExpanded()?6:-1))},dependencies:[ce],styles:[".history-section[_ngcontent-%COMP%]{margin-top:12px;border:1px solid var(--border-light);border-radius:var(--radius-md);background:linear-gradient(160deg,var(--bg-card) 0%,var(--bg-surface) 100%);overflow:hidden}.history-toggle-btn[_ngcontent-%COMP%]{width:100%;border:0;background:var(--accent-cyan-dim);color:var(--text-primary);cursor:pointer;font-family:var(--font-display);font-size:.95em;text-align:left;padding:10px 12px;display:flex;align-items:center;justify-content:space-between}.history-count[_ngcontent-%COMP%]{color:var(--accent-cyan);font-family:var(--font-body)}.history-content[_ngcontent-%COMP%]{padding:10px 12px 12px}.history-empty[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:.9em}.history-list[_ngcontent-%COMP%]{display:grid;gap:8px;animation:fadeIn .25s ease}.history-item[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:var(--radius-sm);padding:10px;background:radial-gradient(circle at right top,var(--accent-cyan-dim) 0%,transparent 50%),linear-gradient(170deg,var(--bg-secondary) 0%,var(--bg-card) 100%);transition:transform .2s ease,box-shadow .2s ease}.history-item[_ngcontent-%COMP%]:hover, .history-item[_ngcontent-%COMP%]:focus-visible{transform:translateY(-1px);box-shadow:var(--shadow-md)}.history-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--text-primary);font-family:var(--font-display);font-size:.9em}.history-meta[_ngcontent-%COMP%], .history-time[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-family:var(--font-body);font-size:.82em;line-height:1.4;overflow-wrap:anywhere}.history-time[_ngcontent-%COMP%]{margin-top:2px;color:var(--text-muted)}.history-actions[_ngcontent-%COMP%]{margin-top:8px;display:flex;gap:8px}.history-load-btn[_ngcontent-%COMP%], .history-delete-btn[_ngcontent-%COMP%], .history-clear-btn[_ngcontent-%COMP%]{border:0;border-radius:var(--radius-sm);font-family:var(--font-body);font-size:.8em;padding:6px 10px;cursor:pointer;transition:opacity .2s ease}.history-load-btn[_ngcontent-%COMP%]{background:var(--accent-emerald);color:var(--text-inverse)}.history-delete-btn[_ngcontent-%COMP%], .history-clear-btn[_ngcontent-%COMP%]{background:var(--accent-coral);color:var(--text-inverse)}.history-load-btn[_ngcontent-%COMP%]:hover, .history-delete-btn[_ngcontent-%COMP%]:hover, .history-clear-btn[_ngcontent-%COMP%]:hover{opacity:.88}.history-footer[_ngcontent-%COMP%]{margin-top:10px;text-align:right}"]})};var ci=class n{constructor(t){this.i18n=t}parseOpShipmentEventRaw(t){let e=[];if(t.equipmentEvents&&Array.isArray(t.equipmentEvents)){let i=this.groupEquipmentEvents(t.equipmentEvents);for(let r of i)e.push(r)}return{shipmentId:t.id,bookingNumber:t.bookingNo,containerNumber:t.containerNo,carrier:t.shippingLine,origin:t.pol?this.formatLocation(t.pol):void 0,destination:t.pod?this.formatLocation(t.pod):void 0,events:e,blNo:t.blNo,containerSize:t.containerSize,containerType:t.containerType,containerISOCode:t.containerISOCode,shipmentType:t.shipmentType,eventId:t.eventId,source:t.source,containerWeight:t.containerWeight,sealNo:t.sealNo,dg:t.dg,dmg:t.dmg,transportEvents:t.transportEvents,terminalData:t.terminalData}}isOpShipmentEventRaw(t){return t&&typeof t=="object"&&"id"in t&&"eventId"in t&&"source"in t&&"blNo"in t&&"containerNo"in t&&"containerISOCode"in t&&"shipmentType"in t&&("transportEvents"in t&&Array.isArray(t.transportEvents)||"equipmentEvents"in t&&Array.isArray(t.equipmentEvents))}isShipmentData(t){return t&&typeof t=="object"&&"events"in t&&Array.isArray(t.events)}groupEquipmentEvents(t){let e=new Map;for(let r of t){let o=this.createGroupKey(r.eventCode,r.location.unLocationCode,r.locationType);e.has(o)||e.set(o,[]),e.get(o).push(r)}let i=[];for(let[,r]of e)i.push(this.convertGroupedEquipmentEvents(r));return i}createGroupKey(t,e,i){return`${t}|${e}|${i}`}convertGroupedEquipmentEvents(t){let i=[...t].sort((m,f)=>new Date(m.eventTime).getTime()-new Date(f.eventTime).getTime())[0],r=t.find(m=>m.timeType==="A"),o=t.find(m=>m.timeType==="E"),a=t.find(m=>m.timeType==="G"),s=r||o||a||i,c=[];return r&&c.push(`${this.i18n.t("time.actual")}: ${new Date(r.eventTime).toLocaleString(this.i18n.localeTag())}`),o&&c.push(`${this.i18n.t("time.estimated")}: ${new Date(o.eventTime).toLocaleString(this.i18n.localeTag())}`),a&&c.push(`${this.i18n.t("time.planned")}: ${new Date(a.eventTime).toLocaleString(this.i18n.localeTag())}`),{eventType:this.getEventTypeName(s.eventCode,s.eventName),eventDateTime:s.eventTime,location:this.formatLocation(s.location),description:this.buildGroupedEquipmentEventDescription(s,c),vessel:s.conveyanceInfo?.conveyanceName,voyage:s.conveyanceInfo?.conveyanceNumber,status:this.formatContainerStatus(s.containerStatus,s.timeType),eventCode:s.eventCode,locationType:s.locationType,timeType:s.timeType,containerStatus:s.containerStatus,modeOfTransport:s.modeOfTransport,facilityCode:s.location.facilityCode,facilityName:s.location.facilityName,unLocationCode:s.location.unLocationCode,unLocationName:s.location.unLocationName,dataProvider:s.DataProvider,actualTime:r?.eventTime,estimatedTime:o?.eventTime,plannedTime:a?.eventTime,timeDetails:c.join(" | ")}}buildGroupedEquipmentEventDescription(t,e){let i=[];return t.eventName&&i.push(t.eventName),t.containerStatus&&i.push(this.i18n.t("parser.containerStatus",{status:this.i18n.getContainerStatusLabel(t.containerStatus)})),t.modeOfTransport&&i.push(this.i18n.t("parser.via",{mode:t.modeOfTransport})),e.length>1&&i.push(this.i18n.t("parser.timeDetails",{details:e.join(", ")})),i.length>0?i.join(" "):this.i18n.t("parser.equipmentEvent")}formatLocation(t){if(!t)return"";let e=[];return t.facilityName&&e.push(t.facilityName),t.unLocationName?t.unLocationCode?e.push(`${t.unLocationName} (${t.unLocationCode})`):e.push(t.unLocationName):t.unLocationCode&&e.push(t.unLocationCode),e.join(", ")}getEventTypeName(t,e){return e||this.i18n.getEventCodeLabel(t)||t}buildEventDescription(t){let e=[];return t.eventName&&e.push(t.eventName),t.modeOfTransport&&e.push(this.i18n.t("parser.via",{mode:t.modeOfTransport})),t.locationType&&e.push(this.i18n.t("parser.atLocation",{location:this.i18n.getLocationTypeLabel(t.locationType)})),e.length>0?e.join(" "):this.i18n.t("parser.transportEvent")}convertTransportEvent(t){return{eventType:this.getEventTypeName(t.eventCode,t.eventName),eventDateTime:t.eventTime,location:this.formatLocation(t.location),description:this.buildEventDescription(t),vessel:t.conveyanceInfo?.conveyanceName,voyage:t.conveyanceInfo?.conveyanceNumber,status:this.formatTimeType(t.timeType),eventCode:t.eventCode,locationType:t.locationType,timeType:t.timeType,modeOfTransport:t.modeOfTransport,facilityCode:t.location.facilityCode,facilityName:t.location.facilityName,unLocationCode:t.location.unLocationCode,unLocationName:t.location.unLocationName,dataProvider:t.DataProvider}}formatTimeType(t){return this.i18n.getTimeTypeLabel(t)||t}formatContainerStatus(t,e){return this.i18n.t("parser.containerStatusFormat",{status:this.i18n.getContainerStatusLabel(t)||t,timeType:this.i18n.getTimeTypeLabel(e)||e})}static \u0275fac=function(e){return new(e||n)(k(Z))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function Eu(n,t){if(n&1){let e=ie();p(0,"button",19),F("click",function(){z(e);let r=h();return $(r.onClose())}),O(1,"span",20),d(2),u()}if(n&2){let e=h();l(2),C(" ",e.i18n.t("input.close")," ")}}function Mu(n,t){if(n&1){let e=ie();p(0,"div",3)(1,"div",21),O(2,"span",22),u(),p(3,"div",23)(4,"strong"),d(5),u(),d(6),p(7,"button",24),F("click",function(){z(e);let r=h();return $(r.clearAll())}),d(8),u()()()}if(n&2){let e=h();l(5),g(e.i18n.t("input.demoMode")),l(),C(" ",e.i18n.t("input.demoDescription")," "),l(2),g(e.i18n.t("input.clearDemo"))}}function Su(n,t){if(n&1&&(p(0,"div",14),O(1,"span",25),d(2),u()),n&2){let e=h();l(2),C(" ",e.i18n.t("input.loading")," ")}}function Tu(n,t){if(n&1&&(p(0,"div",15),O(1,"span",26),d(2),u()),n&2){let e=h();l(2),C(" ",e.errorMessage()," ")}}var di=class n{constructor(t,e,i){this.eventDataService=t;this.parser=e;this.historyService=i}onClose;i18n=b(Z);jsonInput=N("");errorMessage=N("");isLoading=N(!1);isPrimary=N(!0);isDemoData=N(!0);DEMO_DATA={id:"DEMO-1234567890",version:1,egateNo:"OP-00052919",eventId:"a1b2c3d4-e5f6-7890-1234-567890abcdef",eventTime:"2025-02-18T08:00+08:00",source:"oneport",blNo:"AMQ0325766",bookingNo:"BOOK0325766",shippingLine:"CMDU",containerNo:"SZLU9011734",containerSize:"40",containerType:"HC",shipmentType:"TS",containerISOCode:"42G1",containerWeight:"22500",pscNo:"208928029892",sealNo:["CMA22309","SEAL12345","LOCK00789"],dg:["3/1234","8/2809"],dmg:["DENT-LEFT","SCRATCH-ROOF"],createDate:"2025-02-17T10:00:00+08:00",modifyDate:"2025-03-05T12:00:00+08:00",pol:{facilityCode:"YICT",facilityName:"YANTIAN INTERNATIONAL CONTAINER TERMINAL",unLocationCode:"CNYTN",unLocationName:"Yantian, CN"},pod:{facilityCode:"APM",facilityName:"APM TERMINALS ROTTERDAM",unLocationCode:"NLRTM",unLocationName:"Rotterdam, NL"},transportEvents:[{seq:1,eventCode:"VD",eventName:"Vessel Departure",locationType:"POL",eventTime:"2025-02-18T14:00:00+08:00",timeType:"A",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM ZHENG HE",conveyanceNumber:"0FA51S1MA"},location:{facilityCode:"YICT",facilityName:"YANTIAN INTERNATIONAL CONTAINER TERMINAL",unLocationCode:"CNYTN",unLocationName:"Yantian, CN"},DataProvider:"Carrier",DataProviderPriority:1},{seq:2,eventCode:"VA",eventName:"Vessel Arrival",locationType:"POT",eventTime:"2025-02-21T06:30:00+08:00",timeType:"A",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM ZHENG HE",conveyanceNumber:"0FA51S1MA"},location:{facilityCode:"SGPSA",facilityName:"PSA SINGAPORE TERMINAL",unLocationCode:"SGSIN",unLocationName:"Singapore, SG"},DataProvider:"Port",DataProviderPriority:2},{seq:3,eventCode:"VD",eventName:"Vessel Departure",locationType:"POT",eventTime:"2025-02-22T20:00:00+08:00",timeType:"A",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM JACQUES SAADE",conveyanceNumber:"0FA52W1MA"},location:{facilityCode:"SGPSA",facilityName:"PSA SINGAPORE TERMINAL",unLocationCode:"SGSIN",unLocationName:"Singapore, SG"},DataProvider:"Carrier",DataProviderPriority:1},{seq:4,eventCode:"VA",eventName:"Vessel Arrival",locationType:"POT",eventTime:"2025-02-28T09:15:00+03:00",timeType:"A",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM JACQUES SAADE",conveyanceNumber:"0FA52W1MA"},location:{facilityCode:"JTCPT",facilityName:"JEDDAH CONTAINER PORT TERMINAL",unLocationCode:"SAJED",unLocationName:"Jeddah, SA"},DataProvider:"Port",DataProviderPriority:2},{seq:5,eventCode:"VD",eventName:"Vessel Departure",locationType:"POT",eventTime:"2025-03-01T04:00:00+03:00",timeType:"A",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM JACQUES SAADE",conveyanceNumber:"0FA52W1MA"},location:{facilityCode:"JTCPT",facilityName:"JEDDAH CONTAINER PORT TERMINAL",unLocationCode:"SAJED",unLocationName:"Jeddah, SA"},DataProvider:"Carrier",DataProviderPriority:1},{seq:6,eventCode:"VA",eventName:"Vessel Arrival",locationType:"POD",eventTime:"2025-03-06T08:00:00+01:00",timeType:"E",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM JACQUES SAADE",conveyanceNumber:"0FA52W1MA"},location:{facilityCode:"APM",facilityName:"APM TERMINALS ROTTERDAM",unLocationCode:"NLRTM",unLocationName:"Rotterdam, NL"},DataProvider:"Carrier",DataProviderPriority:1}],equipmentEvents:[{eventCode:"IG",eventName:"Gate In",locationType:"POL",eventTime:"2025-02-17T15:00:00+08:00",timeType:"A",containerStatus:"F",modeOfTransport:"Truck",location:{facilityCode:"YICT",facilityName:"YANTIAN INTERNATIONAL CONTAINER TERMINAL",unLocationCode:"CNYTN",unLocationName:"Yantian, CN"},DataProvider:"Port",DataProviderPriority:1},{eventCode:"AL",eventName:"Loaded on Vessel",locationType:"POL",eventTime:"2025-02-18T10:30:00+08:00",timeType:"A",containerStatus:"F",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM ZHENG HE",conveyanceNumber:"0FA51S1MA"},location:{facilityCode:"YICT",facilityName:"YANTIAN INTERNATIONAL CONTAINER TERMINAL",unLocationCode:"CNYTN",unLocationName:"Yantian, CN"},DataProvider:"Port",DataProviderPriority:1},{eventCode:"UV",eventName:"Unloaded From Vessel",locationType:"POT",eventTime:"2025-02-21T10:00:00+08:00",timeType:"A",containerStatus:"F",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM ZHENG HE",conveyanceNumber:"0FA51S1MA"},location:{facilityCode:"SGPSA",facilityName:"PSA SINGAPORE TERMINAL",unLocationCode:"SGSIN",unLocationName:"Singapore, SG"},DataProvider:"Port",DataProviderPriority:1},{eventCode:"AL",eventName:"Loaded on Vessel",locationType:"POT",eventTime:"2025-02-22T16:00:00+08:00",timeType:"A",containerStatus:"F",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM JACQUES SAADE",conveyanceNumber:"0FA52W1MA"},location:{facilityCode:"SGPSA",facilityName:"PSA SINGAPORE TERMINAL",unLocationCode:"SGSIN",unLocationName:"Singapore, SG"},DataProvider:"Port",DataProviderPriority:1},{eventCode:"UV",eventName:"Unloaded From Vessel",locationType:"POD",eventTime:"2025-03-06T14:00:00+01:00",timeType:"E",containerStatus:"F",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM JACQUES SAADE",conveyanceNumber:"0FA52W1MA"},location:{facilityCode:"APM",facilityName:"APM TERMINALS ROTTERDAM",unLocationCode:"NLRTM",unLocationName:"Rotterdam, NL"},DataProvider:"Carrier",DataProviderPriority:1},{eventCode:"UV",eventName:"Unloaded From Vessel",locationType:"POD",eventTime:"2025-03-06T16:30:00+01:00",timeType:"G",containerStatus:"F",modeOfTransport:"Ocean",conveyanceInfo:{conveyanceName:"CMA CGM JACQUES SAADE",conveyanceNumber:"0FA52W1MA"},location:{facilityCode:"APM",facilityName:"APM TERMINALS ROTTERDAM",unLocationCode:"NLRTM",unLocationName:"Rotterdam, NL"},DataProvider:"Port",DataProviderPriority:2},{eventCode:"OG",eventName:"Gate Out",locationType:"POD",eventTime:"2025-03-07T09:00:00+01:00",timeType:"E",containerStatus:"F",modeOfTransport:"Truck",location:{facilityCode:"APM",facilityName:"APM TERMINALS ROTTERDAM",unLocationCode:"NLRTM",unLocationName:"Rotterdam, NL"},DataProvider:"Port",DataProviderPriority:1}]};ngOnInit(){this.loadDemoData()}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let i=e.files[0],r=new FileReader;this.isLoading.set(!0),r.onload=o=>{let a=o.target?.result;this.isDemoData.set(!1),this.processJsonInput(a)},r.onerror=()=>{this.errorMessage.set(this.i18n.t("input.error.readFile")),this.isLoading.set(!1)},r.readAsText(i)}onPasteJson(){this.isDemoData.set(!1),this.processJsonInput(this.jsonInput())}processJsonInput(t){this.isLoading.set(!0);try{let e=JSON.parse(t);this.applyShipmentData(e)}catch{this.errorMessage.set(this.i18n.t("input.error.invalidJson"))}finally{this.isLoading.set(!1)}}onHistoryLoad(t){this.isDemoData.set(!1),this.isLoading.set(!0);try{this.applyShipmentData(t)}catch{this.errorMessage.set(this.i18n.t("input.error.invalidFormat"))}finally{this.isLoading.set(!1)}}toggleEventType(){this.isPrimary.set(!this.isPrimary())}clearAll(){this.jsonInput.set(""),this.errorMessage.set(""),this.eventDataService.clearEvents(),this.isDemoData.set(!1),this.isLoading.set(!1)}loadDemoData(){try{let t=this.parser.parseOpShipmentEventRaw(this.DEMO_DATA);this.eventDataService.setPrimaryEvent(t),this.isDemoData.set(!0),this.errorMessage.set("")}catch(t){console.error("Failed to load demo data:",t)}}applyShipmentData(t){let e;if(this.parser.isOpShipmentEventRaw(t))e=this.parser.parseOpShipmentEventRaw(t);else if(this.parser.isShipmentData(t))e=t;else{this.errorMessage.set(this.i18n.t("input.error.invalidFormat"));return}if(!e.events||!Array.isArray(e.events)){this.errorMessage.set(this.i18n.t("input.error.noEvents"));return}this.isPrimary()?this.eventDataService.setPrimaryEvent(e):this.eventDataService.setSecondaryEvent(e),this.historyService.addEntry(t),this.errorMessage.set("")}static \u0275fac=function(e){return new(e||n)(V(Ee),V(ci),V(Ct))};static \u0275cmp=B({type:n,selectors:[["app-event-input"]],inputs:{onClose:"onClose"},decls:45,vars:23,consts:[[1,"event-input-container"],[1,"input-header"],[1,"close-btn","icon-hover"],[1,"demo-banner"],[1,"usage-tips"],["aria-hidden","true",1,"icon","icon-bulb"],[1,"input-toggle"],[1,"toggle-btn",3,"click"],[1,"input-row"],[1,"input-section"],[3,"valueChange","value","placeholder","rows"],[1,"action-btn",3,"click","disabled"],[1,"divider"],["type","file","accept",".json",1,"file-input",3,"change"],["role","status","aria-live","polite",1,"loading-message"],["role","alert","aria-live","assertive",1,"error-message"],[3,"loadShipment"],[1,"actions"],[1,"clear-btn",3,"click"],[1,"close-btn","icon-hover",3,"click"],["aria-hidden","true",1,"icon","icon-close"],[1,"demo-icon"],["aria-hidden","true",1,"icon","icon-target"],[1,"demo-content"],[1,"dismiss-demo",3,"click"],["aria-hidden","true",1,"loading-spinner"],["aria-hidden","true",1,"icon","icon-alert"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),d(3),u(),v(4,Eu,3,1,"button",2),u(),v(5,Mu,9,3,"div",3),p(6,"div",4)(7,"h3"),O(8,"span",5),d(9),u(),p(10,"ul")(11,"li")(12,"strong"),d(13),u(),d(14),u(),p(15,"li")(16,"strong"),d(17),u(),d(18),u(),p(19,"li")(20,"strong"),d(21),u(),d(22),u()()(),p(23,"div",6)(24,"button",7),F("click",function(){return i.toggleEventType()}),d(25),u()(),p(26,"div",8)(27,"div",9)(28,"h3"),d(29),u(),p(30,"app-json-editor",10),F("valueChange",function(o){return i.jsonInput.set(o)}),u(),p(31,"button",11),F("click",function(){return i.onPasteJson()}),d(32),u()(),p(33,"div",12),d(34),u(),p(35,"div",9)(36,"h3"),d(37),u(),p(38,"input",13),F("change",function(o){return i.onFileSelected(o)}),u()()(),v(39,Su,3,1,"div",14),v(40,Tu,3,1,"div",15),p(41,"app-shipment-history",16),F("loadShipment",function(o){return i.onHistoryLoad(o)}),u(),p(42,"div",17)(43,"button",18),F("click",function(){return i.clearAll()}),d(44),u()()()),e&2&&(l(3),g(i.i18n.t("input.title")),l(),_(i.onClose?4:-1),l(),_(i.isDemoData()?5:-1),l(4),C(" ",i.i18n.t("input.usageTitle")),l(4),g(i.i18n.t("input.usageLoadTitle")),l(),C(" ",i.i18n.t("input.usageLoadDescription")," "),l(3),g(i.i18n.t("input.usageCompareTitle")),l(),C(" ",i.i18n.t("input.usageCompareDescription")," "),l(3),g(i.i18n.t("input.usageFormatsTitle")),l(),C(" ",i.i18n.t("input.usageFormatsDescription")," "),l(3),C(" ",i.isPrimary()?i.i18n.t("input.togglePrimary"):i.i18n.t("input.toggleSecondary")," "),l(4),g(i.i18n.t("input.pasteTitle")),l(),L("placeholder",le(i.i18n.t("input.pastePlaceholder")))("value",i.jsonInput())("rows",6),l(),L("disabled",!i.jsonInput()),l(),C(" ",i.i18n.t("input.loadJson")," "),l(2),g(i.i18n.t("input.divider")),l(3),g(i.i18n.t("input.uploadTitle")),l(2),_(i.isLoading()?39:-1),l(),_(i.errorMessage()?40:-1),l(4),C(" ",i.i18n.t("input.clearAll")," "))},dependencies:[ce,yt,si,li],styles:['.event-input-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:16px 24px}.input-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.input-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-family:var(--font-display)}.close-btn[_ngcontent-%COMP%]{padding:6px 16px;background:var(--accent-cyan-dim);color:var(--accent-cyan);border:1px solid rgba(34,211,238,.3);border-radius:var(--radius-sm);cursor:pointer;font-size:.9em;font-weight:500;font-family:var(--font-body);transition:all .2s ease;display:inline-flex;align-items:center;gap:6px}.close-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.9em;height:.9em}.close-btn[_ngcontent-%COMP%]:hover{background:#22d3ee33;border-color:var(--accent-cyan)}.demo-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 16px;background:linear-gradient(135deg,var(--bg-surface) 0%,var(--bg-card) 100%);border:1px solid var(--accent-cyan);color:var(--text-primary);border-radius:var(--radius-md);margin-bottom:12px;box-shadow:var(--shadow-glow-cyan)}.demo-icon[_ngcontent-%COMP%]{font-size:1.4em;display:inline-flex;align-items:center;justify-content:center}.demo-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.2em;height:1.2em}.demo-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;font-size:.9em}.demo-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:var(--accent-cyan)}.dismiss-demo[_ngcontent-%COMP%]{padding:4px 12px;background:var(--accent-cyan-dim);color:var(--accent-cyan);border:1px solid rgba(34,211,238,.3);border-radius:var(--radius-sm);cursor:pointer;font-size:.85em;font-family:var(--font-body);transition:all .2s ease}.dismiss-demo[_ngcontent-%COMP%]:hover{background:#22d3ee33;border-color:var(--accent-cyan)}.usage-tips[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);border-left:3px solid var(--accent-cyan);padding:10px 16px;border-radius:var(--radius-sm);margin-bottom:12px;font-size:.85em}.usage-tips[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent-cyan);margin:0 0 8px;font-size:1em;font-family:var(--font-display);display:inline-flex;align-items:center;gap:6px}.usage-tips[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.usage-tips[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:16px;list-style-type:none}.usage-tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;color:var(--text-secondary);line-height:1.4;position:relative;padding-left:10px}.usage-tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2192";position:absolute;left:-10px;color:var(--accent-cyan);font-weight:700}.usage-tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent-cyan)}h2[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 12px;font-size:1.1em;font-family:var(--font-display)}h3[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95em;margin-bottom:6px;font-family:var(--font-display)}.input-toggle[_ngcontent-%COMP%]{margin-bottom:12px}.toggle-btn[_ngcontent-%COMP%]{padding:6px 16px;background:var(--accent-emerald);color:var(--text-inverse);border:none;border-radius:var(--radius-sm);cursor:pointer;font-size:.9em;font-family:var(--font-body);transition:opacity .2s ease}.toggle-btn[_ngcontent-%COMP%]:hover{opacity:.85}.input-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:16px;align-items:start}.input-section[_ngcontent-%COMP%]{margin-bottom:0}.action-btn[_ngcontent-%COMP%]{padding:6px 16px;background:var(--accent-cyan);color:var(--text-inverse);border:none;border-radius:var(--radius-sm);cursor:pointer;margin-top:6px;font-size:.85em;font-family:var(--font-body);font-weight:500;transition:opacity .2s ease}.action-btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.85}.action-btn[_ngcontent-%COMP%]:disabled{background:var(--border-light);color:var(--text-muted);cursor:not-allowed}.divider[_ngcontent-%COMP%]{text-align:center;color:var(--text-muted);font-weight:700;font-size:.85em;display:flex;align-items:center;justify-content:center;padding-top:20px}.file-input[_ngcontent-%COMP%]{padding:8px;border:2px dashed var(--border-light);border-radius:var(--radius-sm);width:100%;cursor:pointer;font-size:.85em;color:var(--text-secondary);background:var(--bg-input);font-family:var(--font-body);transition:border-color .2s ease}.file-input[_ngcontent-%COMP%]:hover{border-color:var(--accent-cyan)}.error-message[_ngcontent-%COMP%]{background:var(--accent-coral-dim);color:var(--accent-coral);padding:10px;border-radius:var(--radius-sm);margin-top:12px;border-left:3px solid var(--accent-coral);font-size:.9em;display:inline-flex;align-items:center;gap:6px}.error-message[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.95em;height:.95em}.loading-message[_ngcontent-%COMP%]{margin-top:12px;padding:10px;border-radius:var(--radius-sm);background:var(--accent-cyan-dim);color:var(--accent-cyan);border-left:3px solid var(--accent-cyan);font-size:.9em;display:inline-flex;align-items:center;gap:8px}.loading-spinner[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;border:2px solid var(--accent-cyan-dim);border-top-color:var(--accent-cyan);animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.actions[_ngcontent-%COMP%]{margin-top:12px;text-align:right}.clear-btn[_ngcontent-%COMP%]{padding:6px 16px;background:var(--accent-coral);color:var(--text-inverse);border:none;border-radius:var(--radius-sm);cursor:pointer;font-size:.85em;font-family:var(--font-body);transition:opacity .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{opacity:.85}@media(max-width:700px){.input-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.divider[_ngcontent-%COMP%]{padding-top:0}}@media(max-width:480px){.event-input-container[_ngcontent-%COMP%]{padding:12px}.input-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.95em}.usage-tips[_ngcontent-%COMP%]{font-size:.78em;padding:8px 12px}.demo-banner[_ngcontent-%COMP%]{padding:8px 12px;font-size:.85em}.demo-content[_ngcontent-%COMP%]{font-size:.82em}}@media(max-width:375px){.event-input-container[_ngcontent-%COMP%]{padding:10px}.input-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.9em}.usage-tips[_ngcontent-%COMP%]{font-size:.76em;padding:7px 10px}.demo-banner[_ngcontent-%COMP%]{padding:7px 10px;font-size:.82em}.demo-content[_ngcontent-%COMP%]{font-size:.8em}.actions[_ngcontent-%COMP%]{gap:6px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 14px;font-size:.82em;min-height:40px}}']})};var ui=class n{theme=N(this.getInitialTheme());constructor(){Nr(()=>{let t=this.theme();document.documentElement.setAttribute("data-theme",t);try{localStorage.setItem("itrackit-theme",t)}catch{}})}setTheme(t){this.theme.set(t)}toggleTheme(){this.theme.set(this.theme()==="dark"?"light":"dark")}getInitialTheme(){try{let t=localStorage.getItem("itrackit-theme");if(t==="light"||t==="dark")return t}catch{}return"dark"}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var wu=["inputPanel"];function Ou(n,t){n&1&&O(0,"span",12)}function Du(n,t){n&1&&O(0,"span",13)}function Pu(n,t){if(n&1){let e=ie();p(0,"button",22),F("click",function(){z(e);let r=h();return $(r.toggleInput())}),O(1,"span",23),d(2),u()}if(n&2){let e=h();l(2),C(" ",e.i18n.t("app.loadData")," ")}}var pi=class n{inputPanel;i18n=b(Z);themeService=b(ui);title=D(()=>this.i18n.t("app.title"));showInput=N(!1);isDarkTheme=D(()=>this.themeService.theme()==="dark");setLocale(t){this.i18n.setLocale(t)}toggleInput(){this.showInput.set(!this.showInput())}closeInput(){this.showInput.set(!1)}onDocumentClick(t){if(!this.showInput())return;let e=t.target;!e||this.inputPanel?.nativeElement.contains(e)||e instanceof HTMLElement&&e.closest(".input-toggle-btn")||this.closeInput()}toggleTheme(){this.themeService.toggleTheme()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&Zr(wu,5),e&2){let r;un(r=pn())&&(i.inputPanel=r.first)}},hostBindings:function(e,i){e&1&&F("click",function(o){return i.onDocumentClick(o)},Ur)},decls:34,vars:23,consts:[["inputPanel",""],[1,"app-container"],[1,"app-header"],[1,"header-brand"],[1,"subtitle"],["aria-label","Main navigation",1,"header-nav"],["routerLink","/timeline","routerLinkActive","nav-tab-active",1,"nav-tab","icon-hover"],["aria-hidden","true",1,"icon","icon-clock"],["routerLink","/comparison","routerLinkActive","nav-tab-active",1,"nav-tab","icon-hover"],["aria-hidden","true",1,"icon","icon-compare"],[1,"header-actions"],["type","button",1,"theme-toggle-btn","icon-hover",3,"click","title"],["aria-hidden","true",1,"icon","icon-sun"],["aria-hidden","true",1,"icon","icon-moon"],[1,"language-switch",3,"aria-label"],[1,"language-label"],["type","button",1,"language-btn",3,"click","title"],[1,"input-toggle-btn","icon-hover"],[1,"input-panel"],[3,"onClose"],[1,"app-main"],[1,"app-footer"],[1,"input-toggle-btn","icon-hover",3,"click"],["aria-hidden","true",1,"icon","icon-clipboard"]],template:function(e,i){if(e&1){let r=ie();p(0,"div",1)(1,"header",2)(2,"div",3)(3,"h1"),d(4),u(),p(5,"p",4),d(6),u()(),p(7,"nav",5)(8,"a",6),O(9,"span",7),d(10),u(),p(11,"a",8),O(12,"span",9),d(13),u()(),p(14,"div",10)(15,"button",11),F("click",function(){return z(r),$(i.toggleTheme())}),v(16,Ou,1,0,"span",12)(17,Du,1,0,"span",13),u(),p(18,"div",14)(19,"span",15),d(20),u(),p(21,"button",16),F("click",function(){return z(r),$(i.setLocale("en"))}),d(22," EN "),u(),p(23,"button",16),F("click",function(){return z(r),$(i.setLocale("zh-Hant"))}),d(24," \u7E41 "),u()(),v(25,Pu,3,1,"button",17),u()(),p(26,"div",18,0),O(28,"app-event-input",19),u(),p(29,"main",20),O(30,"router-outlet"),u(),p(31,"footer",21)(32,"p"),d(33),u()()()}e&2&&(l(4),g(i.title()),l(2),g(i.i18n.t("app.subtitle")),l(4),C(" ",i.i18n.t("nav.timeline")," "),l(3),C(" ",i.i18n.t("nav.comparison")," "),l(2),L("title",i.i18n.t("app.toggleTheme")),G("aria-label",i.i18n.t("app.toggleTheme")),l(),_(i.isDarkTheme()?16:17),l(2),dn("aria-label",le(i.i18n.t("app.language"))),l(2),g(i.i18n.t("app.language")),l(),re("active",i.i18n.locale()==="en"),L("title",le(i.i18n.t("app.languageEnglish"))),l(2),re("active",i.i18n.locale()==="zh-Hant"),L("title",le(i.i18n.t("app.languageChinese"))),l(2),_(i.showInput()?-1:25),l(),re("input-panel-hidden",!i.showInput()),l(2),L("onClose",i.closeInput.bind(i)),l(5),g(i.i18n.t("app.footer")))},dependencies:[Bt,gt,cr,di],styles:['[_nghost-%COMP%]{display:block;min-height:100vh}.app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;overflow-x:hidden;background:radial-gradient(120% 55% at 50% -20%,var(--accent-cyan-dim) 0%,transparent 55%),radial-gradient(120% 50% at 50% 120%,var(--accent-amber-dim) 0%,transparent 60%),radial-gradient(ellipse at 20% 0%,var(--gradient-a) 0%,transparent 50%),radial-gradient(ellipse at 80% 100%,var(--gradient-b) 0%,transparent 50%),linear-gradient(180deg,var(--bg-deep) 0%,var(--bg-primary) 100%)}.app-header[_ngcontent-%COMP%]{background:var(--bg-secondary);border-bottom:1px solid var(--border);color:var(--text-primary);padding:0 24px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:24px;box-shadow:var(--shadow-md);position:sticky;top:0;z-index:200;animation:fadeIn .4s ease-out;width:100%;inline-size:100%;margin-inline:0}.app-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--accent-cyan),var(--accent-amber),transparent);opacity:.4}.header-brand[_ngcontent-%COMP%]{padding:12px 0}.header-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.25em;font-weight:700;font-family:var(--font-display);letter-spacing:-.02em;background:linear-gradient(135deg,var(--accent-cyan) 0%,var(--accent-emerald) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2;white-space:nowrap}.subtitle[_ngcontent-%COMP%]{margin:1px 0 0;font-size:.72em;color:var(--text-muted);font-weight:300;white-space:nowrap}.header-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4px}.nav-tab[_ngcontent-%COMP%]{padding:14px 20px;color:var(--text-muted);text-decoration:none;font-size:.85em;font-weight:500;font-family:var(--font-body);border-bottom:2px solid transparent;transition:color .2s ease,border-color .2s ease,background .2s ease;cursor:pointer;display:flex;align-items:center;gap:6px;white-space:nowrap}.nav-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}.nav-tab[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:var(--bg-card)}.nav-tab-active[_ngcontent-%COMP%]{color:var(--accent-cyan);border-bottom-color:var(--accent-cyan)}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.language-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.8em;white-space:nowrap}.language-label[_ngcontent-%COMP%]{color:var(--text-muted)}.theme-toggle-btn[_ngcontent-%COMP%]{border:1px solid var(--border-light);background:var(--bg-card);color:var(--text-secondary);border-radius:var(--radius-sm);padding:6px 10px;cursor:pointer;font-size:.88em;font-family:var(--font-body);transition:border-color .2s ease,color .2s ease;display:flex;align-items:center;gap:4px}.theme-toggle-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}.theme-toggle-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-cyan);color:var(--text-primary)}.language-btn[_ngcontent-%COMP%]{border:1px solid var(--border-light);background:var(--bg-card);color:var(--text-secondary);border-radius:var(--radius-sm);padding:4px 10px;cursor:pointer;font-size:.85em;font-family:var(--font-body);transition:background .2s ease,border-color .2s ease,color .2s ease}.language-btn.active[_ngcontent-%COMP%]{background:var(--accent-cyan-dim);border-color:var(--accent-cyan);color:var(--accent-cyan)}.language-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-cyan);color:var(--text-primary)}.input-toggle-btn[_ngcontent-%COMP%]{padding:7px 16px;background:var(--accent-cyan-dim);color:var(--accent-cyan);border:1px solid rgba(34,211,238,.3);border-radius:var(--radius-md);cursor:pointer;font-size:.85em;font-weight:500;font-family:var(--font-body);transition:background .2s ease,border-color .2s ease,box-shadow .2s ease;white-space:nowrap;display:inline-flex;align-items:center;gap:6px}.input-toggle-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1em;height:1em}.input-toggle-btn[_ngcontent-%COMP%]:hover{background:#22d3ee33;border-color:var(--accent-cyan);box-shadow:0 0 12px #22d3ee26}.input-panel[_ngcontent-%COMP%]{background:var(--bg-secondary);border-bottom:1px solid var(--border);box-shadow:var(--shadow-md);animation:_ngcontent-%COMP%_slideDown .3s ease-out;position:sticky;top:0;z-index:100;width:100%;inline-size:100%;margin-inline:0}.input-panel-hidden[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-12px)}to{opacity:1;transform:translateY(0)}}.app-main[_ngcontent-%COMP%]{flex:1;padding:20px 24px;max-width:1600px;margin:0 auto;width:100%}.app-footer[_ngcontent-%COMP%]{background:var(--bg-secondary);border-top:1px solid var(--border);color:var(--text-muted);text-align:center;padding:14px;margin-top:auto;width:100%;inline-size:100%;margin-inline:0}.app-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.78em;letter-spacing:.02em}@media(max-width:1024px){.app-header[_ngcontent-%COMP%]{grid-template-columns:1fr auto;grid-template-rows:auto auto;gap:0 16px;padding:0 20px}.header-brand[_ngcontent-%COMP%]{padding:10px 0}.header-actions[_ngcontent-%COMP%]{grid-column:2;grid-row:1}.header-nav[_ngcontent-%COMP%]{grid-column:1 / -1;grid-row:2;justify-content:flex-start;border-top:1px solid var(--border)}.nav-tab[_ngcontent-%COMP%]{padding:10px 16px;font-size:.82em}}@media(max-width:768px){.app-header[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:0;padding:0 16px;text-align:center}.header-brand[_ngcontent-%COMP%]{padding:10px 0 6px;justify-self:center}.header-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1em}.header-actions[_ngcontent-%COMP%]{grid-column:1;grid-row:2;justify-content:center;padding-bottom:8px;flex-wrap:wrap}.header-nav[_ngcontent-%COMP%]{grid-column:1;grid-row:3;justify-content:center;border-top:1px solid var(--border)}.nav-tab[_ngcontent-%COMP%]{padding:8px 14px;font-size:.82em}.app-main[_ngcontent-%COMP%]{padding:12px}}@media(max-width:480px){.app-header[_ngcontent-%COMP%]{padding:0 10px}.header-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.95em}.subtitle[_ngcontent-%COMP%]{font-size:.62em}.header-actions[_ngcontent-%COMP%]{gap:6px}.language-switch[_ngcontent-%COMP%]{font-size:.72em;gap:4px}.language-label[_ngcontent-%COMP%]{display:none}.language-btn[_ngcontent-%COMP%]{padding:3px 8px;font-size:.78em}.theme-toggle-btn[_ngcontent-%COMP%]{padding:5px 8px;font-size:.82em}.input-toggle-btn[_ngcontent-%COMP%]{padding:5px 12px;font-size:.78em}.nav-tab[_ngcontent-%COMP%]{padding:8px 10px;font-size:.78em}.app-main[_ngcontent-%COMP%]{padding:8px}.app-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7em}}@media(max-width:375px){.app-header[_ngcontent-%COMP%]{padding:0 8px}.header-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.9em}.subtitle[_ngcontent-%COMP%]{font-size:.6em}.header-actions[_ngcontent-%COMP%]{gap:5px}.language-switch[_ngcontent-%COMP%]{font-size:.7em;gap:3px}.language-btn[_ngcontent-%COMP%]{padding:3px 7px;font-size:.76em;min-height:32px;min-width:32px}.theme-toggle-btn[_ngcontent-%COMP%]{padding:5px 7px;font-size:.8em;min-height:36px;min-width:36px}.input-toggle-btn[_ngcontent-%COMP%]{padding:5px 10px;font-size:.76em;min-height:36px}.nav-tab[_ngcontent-%COMP%]{padding:8px;font-size:.76em;min-height:40px}.app-main[_ngcontent-%COMP%]{padding:6px}.app-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.68em}}']})};Ri(pi,Ua).catch(n=>console.error(n));
