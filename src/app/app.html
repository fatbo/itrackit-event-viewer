<div class="app-container">
  <header class="app-header">
    <div class="header-content">
      <h1>{{ title() }}</h1>
      <p class="subtitle">{{ i18n.t('app.subtitle') }}</p>
    </div>
    <div class="header-actions">
      <button
        class="theme-toggle-btn icon-hover"
        type="button"
        (click)="toggleTheme()"
        [title]="i18n.t('app.toggleTheme')"
        [attr.aria-label]="i18n.t('app.toggleTheme')"
      >
        @if (isDarkTheme()) {
          <span class="icon icon-sun" aria-hidden="true"></span>
        } @else {
          <span class="icon icon-moon" aria-hidden="true"></span>
        }
      </button>
      <div class="language-switch" aria-label="{{ i18n.t('app.language') }}">
        <span class="language-label">{{ i18n.t('app.language') }}</span>
        <button
          class="language-btn"
          type="button"
          [class.active]="i18n.locale() === 'en'"
          (click)="setLocale('en')"
          title="{{ i18n.t('app.languageEnglish') }}"
        >
          EN
        </button>
        <button
          class="language-btn"
          type="button"
          [class.active]="i18n.locale() === 'zh-Hant'"
          (click)="setLocale('zh-Hant')"
          title="{{ i18n.t('app.languageChinese') }}"
        >
          ็น
        </button>
      </div>
      @if (!showInput()) {
        <button class="input-toggle-btn icon-hover" (click)="toggleInput()">
          <span class="icon icon-clipboard" aria-hidden="true"></span>
          {{ i18n.t('app.loadData') }}
        </button>
      }
    </div>
  </header>

  <nav class="app-nav" aria-label="Main navigation">
    <a class="nav-tab icon-hover" routerLink="/timeline" routerLinkActive="nav-tab-active">
      <span class="icon icon-clock" aria-hidden="true"></span>
      {{ i18n.t('nav.timeline') }}
    </a>
    <a class="nav-tab icon-hover" routerLink="/comparison" routerLinkActive="nav-tab-active">
      <span class="icon icon-compare" aria-hidden="true"></span>
      {{ i18n.t('nav.comparison') }}
    </a>
  </nav>
  
  <div class="input-panel" [class.input-panel-hidden]="!showInput()">
    <app-event-input [onClose]="closeInput.bind(this)"></app-event-input>
  </div>

  <main class="app-main">
    <router-outlet />
  </main>
  
  <footer class="app-footer">
    <p>{{ i18n.t('app.footer') }}</p>
  </footer>
</div>
