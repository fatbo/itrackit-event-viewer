<div class="event-input-container">
  <div class="input-header">
    <h2>Shipment Event Input</h2>
    @if (onClose) {
      <button class="close-btn" (click)="onClose()">
        âœ• Close
      </button>
    }
  </div>
  
  @if (isDemoData()) {
    <div class="demo-banner">
      <div class="demo-icon">ðŸŽ¯</div>
      <div class="demo-content">
        <strong>Demo Mode:</strong> You're viewing sample shipment data below. 
        <button (click)="clearAll()" class="dismiss-demo">Clear Demo</button>
      </div>
    </div>
  }

  <div class="usage-tips">
    <h3>ðŸ’¡ How to Use</h3>
    <ul>
      <li><strong>Load Your Data:</strong> Paste JSON or upload a file below</li>
      <li><strong>Compare:</strong> Toggle to "Secondary Event" for side-by-side comparison</li>
      <li><strong>Formats:</strong> OpShipmentEventRaw (OpenAPI) or ShipmentData</li>
    </ul>
  </div>
  
  <div class="input-toggle">
    <button (click)="toggleEventType()" class="toggle-btn">
      {{ isPrimary() ? 'Primary Event' : 'Secondary Event (for comparison)' }}
    </button>
  </div>
  
  <div class="input-row">
    <div class="input-section">
      <h3>Paste JSON Data</h3>
      <app-json-editor
        [value]="jsonInput()"
        (valueChange)="jsonInput.set($event)"
        placeholder="Paste your shipment event JSON here..."
        [rows]="6"
      ></app-json-editor>
      <button (click)="onPasteJson()" class="action-btn" [disabled]="!jsonInput()">
        Load JSON
      </button>
    </div>
    
    <div class="divider">OR</div>
    
    <div class="input-section">
      <h3>Upload JSON File</h3>
      <input 
        type="file" 
        accept=".json"
        (change)="onFileSelected($event)"
        class="file-input"
      />
    </div>
  </div>
  
  @if (errorMessage()) {
    <div class="error-message">
      {{ errorMessage() }}
    </div>
  }
  
  <div class="actions">
    <button (click)="clearAll()" class="clear-btn">
      Clear All
    </button>
  </div>
</div>
